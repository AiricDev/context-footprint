    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.20s
     Running `target/debug/cftool tests/fixtures/fastapi/semantic.json context fastapi._compat.is_bytes_sequence_annotation`
Loading SemanticData from tests/fixtures/fastapi/semantic.json...
Graph built:
  Nodes: 5402
  Edges: 4186

Computing context for symbol: fastapi._compat.is_bytes_sequence_annotation
is_bytes_sequence_annotation: caller_count=1

Context Summary:
  Total size: 6946 tokens
  Reachable nodes: 667
================================================================================

ðŸŒ Layer 0: Observed Symbol
========================================

  ðŸ“„ File: fastapi/_compat.py
    Symbol: fastapi._compat.is_bytes_sequence_annotation (60 tokens)
    Lines: 602-615
    Code:
       602 | def is_bytes_sequence_annotation(annotation: Any) -> bool:
       603 |     origin = get_origin(annotation)
       604 |     if origin is Union or origin is UnionType:
       605 |         at_least_one = False
       606 |         for arg in get_args(annotation):
       607 |             if is_bytes_sequence_annotation(arg):
       608 |                 at_least_one = True
       609 |                 continue
       610 |         return at_least_one
       611 |     return field_annotation_is_sequence(annotation) and all(
       612 |         is_bytes_or_nonable_bytes_annotation(sub_annotation)
       613 |         for sub_annotation in get_args(annotation)
       614 |     )
       615 | 

ðŸŒ Layer 1: Direct Dependencies
========================================

  ðŸ“„ File: /Users/leric/code/context-footprint/extractors/python/.venv/lib/python3.14/site-packages/jedi/third_party/typeshed/stdlib/3/builtins.pyi
    Symbol: builtins.all (0 tokens)
    Lines: 902-903
    Code:
       902 | def all(__iterable: Iterable[object]) -> bool: ...
       903 | def any(__iterable: Iterable[object]) -> bool: ...

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/_compat.py
    Symbol: fastapi._compat.sub_annotation (0 tokens)
    Lines: 576-577
    Code:
       576 |         for sub_annotation in get_args(annotation)
       577 |     )
    Symbol: fastapi._compat.is_bytes_sequence_annotation.origin (0 tokens)
    Lines: 603-604
    Code:
       603 |     origin = get_origin(annotation)
       604 |     if origin is Union or origin is UnionType:
    Symbol: fastapi._compat.is_bytes_sequence_annotation.at_least_one (0 tokens)
    Lines: 605-606
    Code:
       605 |         at_least_one = False
       606 |         for arg in get_args(annotation):
    Symbol: fastapi._compat.is_bytes_sequence_annotation.arg (0 tokens)
    Lines: 606-607
    Code:
       606 |         for arg in get_args(annotation):
       607 |             if is_bytes_sequence_annotation(arg):

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/dependencies/utils.py
    Symbol: fastapi._compat.is_bytes_sequence_field (0 tokens)
    Lines: 36-37
    Code:
        36 |     is_bytes_sequence_field,
        37 |     is_scalar_field,
    Symbol: typing_extensions.get_args (0 tokens)
    Lines: 66-67
    Code:
        66 | from typing_extensions import Annotated, get_args, get_origin
        67 | 

  ðŸ“„ File: fastapi/_compat.py
    Symbol: fastapi._compat.field_annotation_is_sequence (23 tokens)
    Lines: 527-531
    Code:
       527 | def field_annotation_is_sequence(annotation: Union[Type[Any], None]) -> bool:
       528 |     return _annotation_is_sequence(annotation) or _annotation_is_sequence(
       529 |         get_origin(annotation)
       530 |     )
       531 | 
    Symbol: fastapi._compat.is_bytes_or_nonable_bytes_annotation (43 tokens)
    Lines: 580-589
    Code:
       580 | def is_bytes_or_nonable_bytes_annotation(annotation: Any) -> bool:
       581 |     if lenient_issubclass(annotation, bytes):
       582 |         return True
       583 |     origin = get_origin(annotation)
       584 |     if origin is Union or origin is UnionType:
       585 |         for arg in get_args(annotation):
       586 |             if lenient_issubclass(arg, bytes):
       587 |                 return True
       588 |     return False
       589 | 

  ðŸ“„ File: fastapi/types.py
    Symbol: fastapi.types.UnionType (14 tokens)
    Lines: 8-9
    Code:
         8 | UnionType = getattr(types, "UnionType", Union)
         9 | NoneType = getattr(types, "UnionType", None)

ðŸŒ Layer 2: Direct Dependencies
========================================

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/_compat.py
    Symbol: pydantic._internal._utils.lenient_issubclass (0 tokens)
    Lines: 54-55
    Code:
        54 |     from pydantic._internal._utils import lenient_issubclass as lenient_issubclass
        55 |     from pydantic.fields import FieldInfo
    Symbol: pydantic.fields.ModelField (0 tokens)
    Lines: 300-301
    Code:
       300 |         ModelField as ModelField,  # noqa: F401
       301 |     )
    Symbol: pydantic.utils.lenient_issubclass (0 tokens)
    Lines: 324-325
    Code:
       324 |         lenient_issubclass as lenient_issubclass,  # noqa: F401
       325 |     )
    Symbol: fastapi._compat.is_bytes_or_nonable_bytes_annotation.origin (0 tokens)
    Lines: 583-584
    Code:
       583 |     origin = get_origin(annotation)
       584 |     if origin is Union or origin is UnionType:
    Symbol: fastapi._compat.is_bytes_or_nonable_bytes_annotation.arg (0 tokens)
    Lines: 585-586
    Code:
       585 |         for arg in get_args(annotation):
       586 |             if lenient_issubclass(arg, bytes):

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/utils.py
    Symbol: fastapi (0 tokens)
    Lines: 17-18
    Code:
        17 | import fastapi
        18 | from fastapi._compat import (

  ðŸ“„ File: fastapi/_compat.py
    Symbol: fastapi._compat.sequence_shapes (17 tokens)
    Lines: 331-339
    Code:
       331 |     sequence_shapes = {
       332 |         SHAPE_LIST,
       333 |         SHAPE_SET,
       334 |         SHAPE_FROZENSET,
       335 |         SHAPE_TUPLE,
       336 |         SHAPE_SEQUENCE,
       337 |         SHAPE_TUPLE_ELLIPSIS,
       338 |     }
       339 |     sequence_shape_to_type = {
    Symbol: fastapi._compat._annotation_is_sequence (26 tokens)
    Lines: 521-525
    Code:
       521 | def _annotation_is_sequence(annotation: Union[Type[Any], None]) -> bool:
       522 |     if lenient_issubclass(annotation, (str, bytes)):
       523 |         return False
       524 |     return lenient_issubclass(annotation, sequence_types)
       525 | 

ðŸŒ Layer 3: Direct Dependencies
========================================

  ðŸ“„ File: /Users/leric/code/context-footprint/extractors/python/.venv/lib/python3.14/site-packages/jedi/third_party/typeshed/stdlib/3/builtins.pyi
    Symbol: builtins.any (0 tokens)
    Lines: 903-904
    Code:
       903 | def any(__iterable: Iterable[object]) -> bool: ...
       904 | def ascii(__obj: object) -> str: ...
    Symbol: builtins.callable (0 tokens)
    Lines: 910-911
    Code:
       910 | def callable(__obj: object) -> bool: ...
       911 | def chr(__i: int) -> str: ...
    Symbol: builtins.getattr (0 tokens)
    Lines: 965-966
    Code:
       965 | def getattr(__o: Any, name: str, __default: Any = ...) -> Any: ...
       966 | def globals() -> Dict[str, Any]: ...
    Symbol: builtins.iter (0 tokens)
    Lines: 978-979
    Code:
       978 | def iter(__function: Callable[[], _T], __sentinel: Any) -> Iterator[_T]: ...
       979 | def isinstance(__obj: object, __class_or_tuple: Union[type, Tuple[Union[type, Tuple[Any, ...]], ...]]) -> bool: ...
    Symbol: builtins.isinstance (0 tokens)
    Lines: 979-980
    Code:
       979 | def isinstance(__obj: object, __class_or_tuple: Union[type, Tuple[Union[type, Tuple[Any, ...]], ...]]) -> bool: ...
       980 | def issubclass(__cls: type, __class_or_tuple: Union[type, Tuple[Union[type, Tuple[Any, ...]], ...]]) -> bool: ...
    Symbol: builtins.len (0 tokens)
    Lines: 981-982
    Code:
       981 | def len(__obj: Sized) -> int: ...
       982 | def license() -> None: ...
    Symbol: builtins.next (0 tokens)
    Lines: 1051-1052
    Code:
      1051 | def next(__i: Iterator[_T], default: _VT) -> Union[_T, _VT]: ...
      1052 | def oct(__number: Union[int, _SupportsIndex]) -> str: ...
    Symbol: builtins.setattr (0 tokens)
    Lines: 1205-1206
    Code:
      1205 | def setattr(__obj: Any, __name: str, __value: Any) -> None: ...
      1206 | @overload
    Symbol: builtins.sorted (0 tokens)
    Lines: 1209-1210
    Code:
      1209 | def sorted(__iterable: Iterable[_T], *, key: Callable[[_T], SupportsLessThan], reverse: bool = ...) -> List[_T]: ...
      1210 | 

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/.venv/lib/python3.14/site-packages/pydantic/main.py
    Symbol: pydantic.main.BaseModel.model_config (0 tokens)
    Lines: 153-154
    Code:
       153 |     model_config: ClassVar[ConfigDict] = ConfigDict()
       154 |     """

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/.venv/lib/python3.14/site-packages/starlette/datastructures.py
    Symbol: starlette.datastructures.UploadFile.content_type (0 tokens)
    Lines: 451-452
    Code:
       451 |     def content_type(self) -> typing.Optional[str]:
       452 |         return self.headers.get("content-type", None)

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/_compat.py
    Symbol: dataclasses.dataclass (0 tokens)
    Lines: 3-4
    Code:
         3 | from dataclasses import dataclass, is_dataclass
         4 | from enum import Enum
    Symbol: pydantic.version.VERSION (0 tokens)
    Lines: 23-24
    Code:
        23 | from pydantic.version import VERSION as PYDANTIC_VERSION
        24 | from starlette.datastructures import UploadFile
    Symbol: pydantic._internal._typing_extra.eval_type_lenient (0 tokens)
    Lines: 53-54
    Code:
        53 |     from pydantic._internal._typing_extra import eval_type_lenient
        54 |     from pydantic._internal._utils import lenient_issubclass as lenient_issubclass
    Symbol: pydantic_core.PydanticUndefined (0 tokens)
    Lines: 59-60
    Code:
        59 |     from pydantic_core import PydanticUndefined, PydanticUndefinedType
        60 |     from pydantic_core import Url as Url
    Symbol: pydantic.fields.SHAPE_FROZENSET (0 tokens)
    Lines: 290-291
    Code:
       290 |         SHAPE_FROZENSET,
       291 |         SHAPE_LIST,
    Symbol: pydantic.fields.SHAPE_LIST (0 tokens)
    Lines: 291-292
    Code:
       291 |         SHAPE_LIST,
       292 |         SHAPE_SEQUENCE,
    Symbol: pydantic.fields.SHAPE_SEQUENCE (0 tokens)
    Lines: 292-293
    Code:
       292 |         SHAPE_SEQUENCE,
       293 |         SHAPE_SET,
    Symbol: pydantic.fields.SHAPE_SET (0 tokens)
    Lines: 293-294
    Code:
       293 |         SHAPE_SET,
       294 |         SHAPE_SINGLETON,
    Symbol: pydantic.fields.SHAPE_TUPLE (0 tokens)
    Lines: 295-296
    Code:
       295 |         SHAPE_TUPLE,
       296 |         SHAPE_TUPLE_ELLIPSIS,
    Symbol: pydantic.fields.SHAPE_TUPLE_ELLIPSIS (0 tokens)
    Lines: 296-297
    Code:
       296 |         SHAPE_TUPLE_ELLIPSIS,
       297 |     )

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/concurrency.py
    Symbol: contextlib.asynccontextmanager (0 tokens)
    Lines: 2-3
    Code:
         2 | from contextlib import asynccontextmanager as asynccontextmanager
         3 | from typing import AsyncGenerator, ContextManager, TypeVar

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/dependencies/utils.py
    Symbol: contextlib.contextmanager (0 tokens)
    Lines: 2-3
    Code:
         2 | from contextlib import contextmanager
         3 | from copy import deepcopy
    Symbol: copy.deepcopy (0 tokens)
    Lines: 3-4
    Code:
         3 | from copy import deepcopy
         4 | from typing import (
    Symbol: anyio (0 tokens)
    Lines: 20-21
    Code:
        20 | import anyio
        21 | from fastapi import params
    Symbol: fastapi._compat.Required (0 tokens)
    Lines: 26-27
    Code:
        26 |     Required,
        27 |     Undefined,
    Symbol: fastapi._compat._regenerate_error_with_loc (0 tokens)
    Lines: 28-29
    Code:
        28 |     _regenerate_error_with_loc,
        29 |     copy_field_info,
    Symbol: fastapi._compat.copy_field_info (0 tokens)
    Lines: 29-30
    Code:
        29 |     copy_field_info,
        30 |     create_body_model,
    Symbol: fastapi._compat.create_body_model (0 tokens)
    Lines: 30-31
    Code:
        30 |     create_body_model,
        31 |     evaluate_forwardref,
    Symbol: fastapi._compat.evaluate_forwardref (0 tokens)
    Lines: 31-32
    Code:
        31 |     evaluate_forwardref,
        32 |     field_annotation_is_scalar,
    Symbol: fastapi._compat.field_annotation_is_scalar (0 tokens)
    Lines: 32-33
    Code:
        32 |     field_annotation_is_scalar,
        33 |     get_annotation_from_field_info,
    Symbol: fastapi._compat.get_annotation_from_field_info (0 tokens)
    Lines: 33-34
    Code:
        33 |     get_annotation_from_field_info,
        34 |     get_missing_field_error,
    Symbol: fastapi._compat.get_missing_field_error (0 tokens)
    Lines: 34-35
    Code:
        34 |     get_missing_field_error,
        35 |     is_bytes_field,
    Symbol: fastapi._compat.is_bytes_field (0 tokens)
    Lines: 35-36
    Code:
        35 |     is_bytes_field,
        36 |     is_bytes_sequence_field,
    Symbol: fastapi._compat.is_scalar_field (0 tokens)
    Lines: 37-38
    Code:
        37 |     is_scalar_field,
        38 |     is_scalar_sequence_field,
    Symbol: fastapi._compat.is_scalar_sequence_field (0 tokens)
    Lines: 38-39
    Code:
        38 |     is_scalar_sequence_field,
        39 |     is_sequence_field,
    Symbol: fastapi._compat.is_sequence_field (0 tokens)
    Lines: 39-40
    Code:
        39 |     is_sequence_field,
        40 |     is_uploadfile_or_nonable_uploadfile_annotation,
    Symbol: fastapi._compat.is_uploadfile_or_nonable_uploadfile_annotation (0 tokens)
    Lines: 40-41
    Code:
        40 |     is_uploadfile_or_nonable_uploadfile_annotation,
        41 |     is_uploadfile_sequence_annotation,
    Symbol: fastapi._compat.is_uploadfile_sequence_annotation (0 tokens)
    Lines: 41-42
    Code:
        41 |     is_uploadfile_sequence_annotation,
        42 |     lenient_issubclass,
    Symbol: fastapi._compat.sequence_types (0 tokens)
    Lines: 43-44
    Code:
        43 |     sequence_types,
        44 |     serialize_sequence_value,
    Symbol: fastapi._compat.serialize_sequence_value (0 tokens)
    Lines: 44-45
    Code:
        44 |     serialize_sequence_value,
        45 |     value_is_sequence,
    Symbol: fastapi._compat.value_is_sequence (0 tokens)
    Lines: 45-46
    Code:
        45 |     value_is_sequence,
        46 | )
    Symbol: fastapi.concurrency.asynccontextmanager (0 tokens)
    Lines: 50-51
    Code:
        50 |     asynccontextmanager,
        51 |     contextmanager_in_threadpool,
    Symbol: fastapi.concurrency.contextmanager_in_threadpool (0 tokens)
    Lines: 51-52
    Code:
        51 |     contextmanager_in_threadpool,
        52 | )
    Symbol: fastapi.utils.get_path_param_names (0 tokens)
    Lines: 58-59
    Code:
        58 | from fastapi.utils import create_response_field, get_path_param_names
        59 | from pydantic.fields import FieldInfo
    Symbol: fastapi.dependencies.utils.check_file_field.field_info (0 tokens)
    Lines: 84-85
    Code:
        84 |     field_info = field.field_info
        85 |     if isinstance(field_info, params.Form):
    Symbol: multipart.__version__ (0 tokens)
    Lines: 88-89
    Code:
        88 |             from multipart import __version__  # type: ignore
        89 | 
    Symbol: multipart.multipart.parse_options_header (0 tokens)
    Lines: 93-94
    Code:
        93 |                 from multipart.multipart import parse_options_header  # type: ignore
        94 | 
    Symbol: fastapi.dependencies.utils.get_sub_dependant.security_requirement (0 tokens)
    Lines: 136-137
    Code:
       136 |     security_requirement = None
       137 |     security_scopes = security_scopes or []
    Symbol: fastapi.dependencies.utils.get_sub_dependant.security_scopes (0 tokens)
    Lines: 137-138
    Code:
       137 |     security_scopes = security_scopes or []
       138 |     if isinstance(depends, params.Security):
    Symbol: fastapi.dependencies.utils.get_sub_dependant.dependency_scopes (0 tokens)
    Lines: 139-140
    Code:
       139 |         dependency_scopes = depends.scopes
       140 |         security_scopes.extend(dependency_scopes)
    Symbol: fastapi.dependencies.utils.get_sub_dependant.use_scopes (0 tokens)
    Lines: 142-143
    Code:
       142 |         use_scopes: List[str] = []
       143 |         if isinstance(dependency, (OAuth2, OpenIdConnect)):
    Symbol: fastapi.dependencies.utils.get_sub_dependant.sub_dependant (0 tokens)
    Lines: 148-149
    Code:
       148 |     sub_dependant = get_dependant(
       149 |         path=path,
    Symbol: fastapi.dependencies.utils.get_flat_dependant.visited (0 tokens)
    Lines: 170-171
    Code:
       170 |         visited = []
       171 |     visited.append(dependant.cache_key)
    Symbol: fastapi.dependencies.utils.get_flat_dependant.flat_dependant (0 tokens)
    Lines: 173-174
    Code:
       173 |     flat_dependant = Dependant(
       174 |         path_params=dependant.path_params.copy(),
    Symbol: fastapi.dependencies.utils.get_flat_dependant.sub_dependant (0 tokens)
    Lines: 183-184
    Code:
       183 |     for sub_dependant in dependant.dependencies:
       184 |         if skip_repeats and sub_dependant.cache_key in visited:
    Symbol: fastapi.dependencies.utils.get_flat_dependant.flat_sub (0 tokens)
    Lines: 186-187
    Code:
       186 |         flat_sub = get_flat_dependant(
       187 |             sub_dependant, skip_repeats=skip_repeats, visited=visited
    Symbol: fastapi.dependencies.utils.get_flat_params.flat_dependant (0 tokens)
    Lines: 199-200
    Code:
       199 |     flat_dependant = get_flat_dependant(dependant, skip_repeats=True)
       200 |     return (
    Symbol: fastapi.dependencies.utils.get_typed_signature.signature (0 tokens)
    Lines: 209-210
    Code:
       209 |     signature = inspect.signature(call)
       210 |     globalns = getattr(call, "__globals__", {})
    Symbol: fastapi.dependencies.utils.get_typed_signature.globalns (0 tokens)
    Lines: 210-211
    Code:
       210 |     globalns = getattr(call, "__globals__", {})
       211 |     typed_params = [
    Symbol: fastapi.dependencies.utils.get_typed_signature.typed_params (0 tokens)
    Lines: 211-212
    Code:
       211 |     typed_params = [
       212 |         inspect.Parameter(
    Symbol: fastapi.dependencies.utils.param (0 tokens)
    Lines: 218-219
    Code:
       218 |         for param in signature.parameters.values()
       219 |     ]
    Symbol: fastapi.dependencies.utils.get_typed_signature.typed_signature (0 tokens)
    Lines: 220-221
    Code:
       220 |     typed_signature = inspect.Signature(typed_params)
       221 |     return typed_signature
    Symbol: fastapi.dependencies.utils.get_typed_annotation.annotation (0 tokens)
    Lines: 226-227
    Code:
       226 |         annotation = ForwardRef(annotation)
       227 |         annotation = evaluate_forwardref(annotation, globalns, globalns)
    Symbol: fastapi.dependencies.utils.get_typed_return_annotation.signature (0 tokens)
    Lines: 232-233
    Code:
       232 |     signature = inspect.signature(call)
       233 |     annotation = signature.return_annotation
    Symbol: fastapi.dependencies.utils.get_typed_return_annotation.annotation (0 tokens)
    Lines: 233-234
    Code:
       233 |     annotation = signature.return_annotation
       234 | 
    Symbol: fastapi.dependencies.utils.get_typed_return_annotation.globalns (0 tokens)
    Lines: 238-239
    Code:
       238 |     globalns = getattr(call, "__globals__", {})
       239 |     return get_typed_annotation(annotation, globalns)
    Symbol: fastapi.dependencies.utils.get_dependant.path_param_names (0 tokens)
    Lines: 250-251
    Code:
       250 |     path_param_names = get_path_param_names(path)
       251 |     endpoint_signature = get_typed_signature(call)
    Symbol: fastapi.dependencies.utils.get_dependant.endpoint_signature (0 tokens)
    Lines: 251-252
    Code:
       251 |     endpoint_signature = get_typed_signature(call)
       252 |     signature_params = endpoint_signature.parameters
    Symbol: fastapi.dependencies.utils.get_dependant.signature_params (0 tokens)
    Lines: 252-253
    Code:
       252 |     signature_params = endpoint_signature.parameters
       253 |     dependant = Dependant(
    Symbol: fastapi.dependencies.utils.get_dependant.dependant (0 tokens)
    Lines: 253-254
    Code:
       253 |     dependant = Dependant(
       254 |         call=call,
    Symbol: fastapi.dependencies.utils.get_dependant.param (0 tokens)
    Lines: 260-261
    Code:
       260 |     for param_name, param in signature_params.items():
       261 |         is_path_param = param_name in path_param_names
    Symbol: fastapi.dependencies.utils.get_dependant.is_path_param (0 tokens)
    Lines: 261-262
    Code:
       261 |         is_path_param = param_name in path_param_names
       262 |         type_annotation, depends, param_field = analyze_param(
    Symbol: fastapi.dependencies.utils.get_dependant.depends (0 tokens)
    Lines: 262-263
    Code:
       262 |         type_annotation, depends, param_field = analyze_param(
       263 |             param_name=param_name,
    Symbol: fastapi.dependencies.utils.get_dependant.sub_dependant (0 tokens)
    Lines: 269-270
    Code:
       269 |             sub_dependant = get_param_sub_dependant(
       270 |                 param_name=param_name,
    Symbol: fastapi.dependencies.utils.analyze_param.field_info (0 tokens)
    Lines: 325-326
    Code:
       325 |     field_info = None
       326 |     depends = None
    Symbol: fastapi.dependencies.utils.analyze_param.depends (0 tokens)
    Lines: 326-327
    Code:
       326 |     depends = None
       327 |     type_annotation: Any = Any
    Symbol: fastapi.dependencies.utils.analyze_param.type_annotation (0 tokens)
    Lines: 327-328
    Code:
       327 |     type_annotation: Any = Any
       328 |     if (
    Symbol: fastapi.dependencies.utils.analyze_param.annotated_args (0 tokens)
    Lines: 332-333
    Code:
       332 |         annotated_args = get_args(annotation)
       333 |         type_annotation = annotated_args[0]
    Symbol: fastapi.dependencies.utils.analyze_param.fastapi_annotations (0 tokens)
    Lines: 334-335
    Code:
       334 |         fastapi_annotations = [
       335 |             arg
    Symbol: fastapi.dependencies.utils.arg (0 tokens)
    Lines: 336-337
    Code:
       336 |             for arg in annotated_args[1:]
       337 |             if isinstance(arg, (FieldInfo, params.Depends))
    Symbol: fastapi.dependencies.utils.analyze_param.fastapi_annotation (0 tokens)
    Lines: 342-343
    Code:
       342 |         fastapi_annotation = next(iter(fastapi_annotations), None)
       343 |         if isinstance(fastapi_annotation, FieldInfo):
    Symbol: fastapi.dependencies.utils.analyze_param.default_value (0 tokens)
    Lines: 400-401
    Code:
       400 |         default_value = value if value is not inspect.Signature.empty else Required
       401 |         if is_path_param:
    Symbol: fastapi.dependencies.utils.analyze_param.field (0 tokens)
    Lines: 415-416
    Code:
       415 |     field = None
       416 |     if field_info is not None:
    Symbol: fastapi.dependencies.utils.analyze_param.use_annotation (0 tokens)
    Lines: 427-428
    Code:
       427 |         use_annotation = get_annotation_from_field_info(
       428 |             type_annotation,
    Symbol: fastapi.dependencies.utils.analyze_param.alias (0 tokens)
    Lines: 433-434
    Code:
       433 |             alias = param_name.replace("_", "-")
       434 |         else:
    Symbol: fastapi.dependencies.utils.add_param_to_fields.field_info (0 tokens)
    Lines: 469-470
    Code:
       469 |     field_info = cast(params.Param, field.field_info)
       470 |     if field_info.in_ == params.ParamTypes.path:
    Symbol: fastapi.dependencies.utils.is_coroutine_callable.dunder_call (0 tokens)
    Lines: 488-489
    Code:
       488 |     dunder_call = getattr(call, "__call__", None)  # noqa: B004
       489 |     return inspect.iscoroutinefunction(dunder_call)
    Symbol: fastapi.dependencies.utils.is_async_gen_callable.dunder_call (0 tokens)
    Lines: 495-496
    Code:
       495 |     dunder_call = getattr(call, "__call__", None)  # noqa: B004
       496 |     return inspect.isasyncgenfunction(dunder_call)
    Symbol: fastapi.dependencies.utils.is_gen_callable.dunder_call (0 tokens)
    Lines: 502-503
    Code:
       502 |     dunder_call = getattr(call, "__call__", None)  # noqa: B004
       503 |     return inspect.isgeneratorfunction(dunder_call)
    Symbol: fastapi.dependencies.utils.solve_generator.cm (0 tokens)
    Lines: 510-511
    Code:
       510 |         cm = contextmanager_in_threadpool(contextmanager(call)(**sub_values))
       511 |     elif is_async_gen_callable(call):
    Symbol: fastapi.dependencies.utils.solve_dependencies.values (0 tokens)
    Lines: 532-533
    Code:
       532 |     values: Dict[str, Any] = {}
       533 |     errors: List[Any] = []
    Symbol: fastapi.dependencies.utils.solve_dependencies.errors (0 tokens)
    Lines: 533-534
    Code:
       533 |     errors: List[Any] = []
       534 |     if response is None:
    Symbol: fastapi.dependencies.utils.solve_dependencies.response (0 tokens)
    Lines: 535-536
    Code:
       535 |         response = Response()
       536 |         del response.headers["content-length"]
    Symbol: fastapi.dependencies.utils.solve_dependencies.dependency_cache (0 tokens)
    Lines: 538-539
    Code:
       538 |     dependency_cache = dependency_cache or {}
       539 |     sub_dependant: Dependant
    Symbol: fastapi.dependencies.utils.solve_dependencies.sub_dependant (0 tokens)
    Lines: 539-540
    Code:
       539 |     sub_dependant: Dependant
       540 |     for sub_dependant in dependant.dependencies:
    Symbol: fastapi.dependencies.utils.solve_dependencies.call (0 tokens)
    Lines: 545-546
    Code:
       545 |         call = sub_dependant.call
       546 |         use_sub_dependant = sub_dependant
    Symbol: fastapi.dependencies.utils.solve_dependencies.use_sub_dependant (0 tokens)
    Lines: 546-547
    Code:
       546 |         use_sub_dependant = sub_dependant
       547 |         if (
    Symbol: fastapi.dependencies.utils.solve_dependencies.original_call (0 tokens)
    Lines: 551-552
    Code:
       551 |             original_call = sub_dependant.call
       552 |             call = getattr(
    Symbol: fastapi.dependencies.utils.solve_dependencies.use_path (0 tokens)
    Lines: 555-556
    Code:
       555 |             use_path: str = sub_dependant.path  # type: ignore
       556 |             use_sub_dependant = get_dependant(
    Symbol: fastapi.dependencies.utils.solve_dependencies.solved_result (0 tokens)
    Lines: 563-564
    Code:
       563 |         solved_result = await solve_dependencies(
       564 |             request=request,
    Symbol: fastapi.dependencies.utils.solve_dependencies.sub_values (0 tokens)
    Lines: 573-574
    Code:
       573 |             sub_values,
       574 |             sub_errors,
    Symbol: fastapi.dependencies.utils.solve_dependencies.sub_errors (0 tokens)
    Lines: 574-575
    Code:
       574 |             sub_errors,
       575 |             background_tasks,
    Symbol: fastapi.dependencies.utils.solve_dependencies.background_tasks (0 tokens)
    Lines: 575-576
    Code:
       575 |             background_tasks,
       576 |             _,  # the subdependency returns the same response we have
    Symbol: fastapi.dependencies.utils.solve_dependencies._ (0 tokens)
    Lines: 576-577
    Code:
       576 |             _,  # the subdependency returns the same response we have
       577 |             sub_dependency_cache,
    Symbol: fastapi.dependencies.utils.solve_dependencies.sub_dependency_cache (0 tokens)
    Lines: 577-578
    Code:
       577 |             sub_dependency_cache,
       578 |         ) = solved_result
    Symbol: fastapi.dependencies.utils.solve_dependencies.solved (0 tokens)
    Lines: 584-585
    Code:
       584 |             solved = dependency_cache[sub_dependant.cache_key]
       585 |         elif is_gen_callable(call) or is_async_gen_callable(call):
    Symbol: fastapi.dependencies.utils.solve_dependencies.stack (0 tokens)
    Lines: 586-587
    Code:
       586 |             stack = request.scope.get("fastapi_astack")
       587 |             assert isinstance(stack, AsyncExitStack)
    Symbol: fastapi.dependencies.utils.solve_dependencies.path_errors (0 tokens)
    Lines: 599-600
    Code:
       599 |     path_values, path_errors = request_params_to_args(
       600 |         dependant.path_params, request.path_params
    Symbol: fastapi.dependencies.utils.solve_dependencies.query_errors (0 tokens)
    Lines: 602-603
    Code:
       602 |     query_values, query_errors = request_params_to_args(
       603 |         dependant.query_params, request.query_params
    Symbol: fastapi.dependencies.utils.solve_dependencies.header_errors (0 tokens)
    Lines: 605-606
    Code:
       605 |     header_values, header_errors = request_params_to_args(
       606 |         dependant.header_params, request.headers
    Symbol: fastapi.dependencies.utils.solve_dependencies.cookie_errors (0 tokens)
    Lines: 608-609
    Code:
       608 |     cookie_values, cookie_errors = request_params_to_args(
       609 |         dependant.cookie_params, request.cookies
    Symbol: fastapi.dependencies.utils.solve_dependencies.body_values (0 tokens)
    Lines: 618-619
    Code:
       618 |             body_values,
       619 |             body_errors,
    Symbol: fastapi.dependencies.utils.solve_dependencies.body_errors (0 tokens)
    Lines: 619-620
    Code:
       619 |             body_errors,
       620 |         ) = await request_body_to_args(  # body_params checked above
    Symbol: fastapi.dependencies.utils.request_params_to_args.values (0 tokens)
    Lines: 648-649
    Code:
       648 |     values = {}
       649 |     errors = []
    Symbol: fastapi.dependencies.utils.request_params_to_args.errors (0 tokens)
    Lines: 649-650
    Code:
       649 |     errors = []
       650 |     for field in required_params:
    Symbol: fastapi.dependencies.utils.request_params_to_args.field (0 tokens)
    Lines: 650-651
    Code:
       650 |     for field in required_params:
       651 |         if is_scalar_sequence_field(field) and isinstance(
    Symbol: fastapi.dependencies.utils.request_params_to_args.value (0 tokens)
    Lines: 654-655
    Code:
       654 |             value = received_params.getlist(field.alias) or field.default
       655 |         else:
    Symbol: fastapi.dependencies.utils.request_params_to_args.field_info (0 tokens)
    Lines: 657-658
    Code:
       657 |         field_info = field.field_info
       658 |         assert isinstance(
    Symbol: fastapi.dependencies.utils.request_params_to_args.loc (0 tokens)
    Lines: 661-662
    Code:
       661 |         loc = (field_info.in_.value, field.alias)
       662 |         if value is None:
    Symbol: fastapi.dependencies.utils.request_params_to_args.errors_ (0 tokens)
    Lines: 668-669
    Code:
       668 |         v_, errors_ = field.validate(value, values, loc=loc)
       669 |         if isinstance(errors_, ErrorWrapper):
    Symbol: fastapi.dependencies.utils.request_params_to_args.new_errors (0 tokens)
    Lines: 672-673
    Code:
       672 |             new_errors = _regenerate_error_with_loc(errors=errors_, loc_prefix=())
       673 |             errors.extend(new_errors)
    Symbol: fastapi.dependencies.utils.request_body_to_args.values (0 tokens)
    Lines: 683-684
    Code:
       683 |     values = {}
       684 |     errors: List[Dict[str, Any]] = []
    Symbol: fastapi.dependencies.utils.request_body_to_args.errors (0 tokens)
    Lines: 684-685
    Code:
       684 |     errors: List[Dict[str, Any]] = []
       685 |     if required_params:
    Symbol: fastapi.dependencies.utils.request_body_to_args.field (0 tokens)
    Lines: 686-687
    Code:
       686 |         field = required_params[0]
       687 |         field_info = field.field_info
    Symbol: fastapi.dependencies.utils.request_body_to_args.field_info (0 tokens)
    Lines: 687-688
    Code:
       687 |         field_info = field.field_info
       688 |         embed = getattr(field_info, "embed", None)
    Symbol: fastapi.dependencies.utils.request_body_to_args.embed (0 tokens)
    Lines: 688-689
    Code:
       688 |         embed = getattr(field_info, "embed", None)
       689 |         field_alias_omitted = len(required_params) == 1 and not embed
    Symbol: fastapi.dependencies.utils.request_body_to_args.field_alias_omitted (0 tokens)
    Lines: 689-690
    Code:
       689 |         field_alias_omitted = len(required_params) == 1 and not embed
       690 |         if field_alias_omitted:
    Symbol: fastapi.dependencies.utils.request_body_to_args.received_body (0 tokens)
    Lines: 691-692
    Code:
       691 |             received_body = {field.alias: received_body}
       692 | 
    Symbol: fastapi.dependencies.utils.request_body_to_args.loc (0 tokens)
    Lines: 694-695
    Code:
       694 |             loc: Tuple[str, ...]
       695 |             if field_alias_omitted:
    Symbol: fastapi.dependencies.utils.request_body_to_args.value (0 tokens)
    Lines: 700-701
    Code:
       700 |             value: Optional[Any] = None
       701 |             if received_body is not None:
    Symbol: fastapi.dependencies.utils.request_body_to_args.results (0 tokens)
    Lines: 737-738
    Code:
       737 |                 results: List[Union[bytes, str]] = []
       738 | 
    Symbol: fastapi.dependencies.utils.request_body_to_args.tg (0 tokens)
    Lines: 745-746
    Code:
       745 |                 async with anyio.create_task_group() as tg:
       746 |                     for sub_value in value:
    Symbol: fastapi.dependencies.utils.request_body_to_args.sub_value (0 tokens)
    Lines: 746-747
    Code:
       746 |                     for sub_value in value:
       747 |                         tg.start_soon(process_fn, sub_value.read)
    Symbol: fastapi.dependencies.utils.request_body_to_args.errors_ (0 tokens)
    Lines: 750-751
    Code:
       750 |             v_, errors_ = field.validate(value, values, loc=loc)
       751 | 
    Symbol: fastapi.dependencies.utils.get_body_field.flat_dependant (0 tokens)
    Lines: 762-763
    Code:
       762 |     flat_dependant = get_flat_dependant(dependant)
       763 |     if not flat_dependant.body_params:
    Symbol: fastapi.dependencies.utils.get_body_field.first_param (0 tokens)
    Lines: 765-766
    Code:
       765 |     first_param = flat_dependant.body_params[0]
       766 |     field_info = first_param.field_info
    Symbol: fastapi.dependencies.utils.get_body_field.field_info (0 tokens)
    Lines: 766-767
    Code:
       766 |     field_info = first_param.field_info
       767 |     embed = getattr(field_info, "embed", None)
    Symbol: fastapi.dependencies.utils.get_body_field.embed (0 tokens)
    Lines: 767-768
    Code:
       767 |     embed = getattr(field_info, "embed", None)
       768 |     body_param_names_set = {param.name for param in flat_dependant.body_params}
    Symbol: fastapi.dependencies.utils.get_body_field.body_param_names_set (0 tokens)
    Lines: 768-769
    Code:
       768 |     body_param_names_set = {param.name for param in flat_dependant.body_params}
       769 |     if len(body_param_names_set) == 1 and not embed:
    Symbol: fastapi.dependencies.utils.get_body_field.param (0 tokens)
    Lines: 775-776
    Code:
       775 |     for param in flat_dependant.body_params:
       776 |         setattr(param.field_info, "embed", True)  # noqa: B010
    Symbol: fastapi.dependencies.utils.get_body_field.model_name (0 tokens)
    Lines: 777-778
    Code:
       777 |     model_name = "Body_" + name
       778 |     BodyModel = create_body_model(
    Symbol: fastapi.dependencies.utils.get_body_field.BodyModel (0 tokens)
    Lines: 778-779
    Code:
       778 |     BodyModel = create_body_model(
       779 |         fields=flat_dependant.body_params, model_name=model_name
    Symbol: fastapi.dependencies.utils.f (0 tokens)
    Lines: 781-782
    Code:
       781 |     required = any(True for f in flat_dependant.body_params if f.required)
       782 |     BodyFieldInfo_kwargs: Dict[str, Any] = {
    Symbol: fastapi.dependencies.utils.get_body_field.BodyFieldInfo_kwargs (0 tokens)
    Lines: 782-783
    Code:
       782 |     BodyFieldInfo_kwargs: Dict[str, Any] = {
       783 |         "annotation": BodyModel,
    Symbol: fastapi.dependencies.utils.get_body_field.BodyFieldInfo (0 tokens)
    Lines: 789-790
    Code:
       789 |         BodyFieldInfo: Type[params.Body] = params.File
       790 |     elif any(isinstance(f.field_info, params.Form) for f in flat_dependant.body_params):
    Symbol: fastapi.dependencies.utils.get_body_field.body_param_media_types (0 tokens)
    Lines: 795-796
    Code:
       795 |         body_param_media_types = [
       796 |             f.field_info.media_type
    Symbol: fastapi.dependencies.utils.get_body_field.final_field (0 tokens)
    Lines: 802-803
    Code:
       802 |     final_field = create_response_field(
       803 |         name="body",

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/encoders.py
    Symbol: datetime (0 tokens)
    Lines: 2-3
    Code:
         2 | import datetime
         3 | from collections import defaultdict, deque

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/middleware/asyncexitstack.py
    Symbol: fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware.__call__.dependency_exception (0 tokens)
    Lines: 13-14
    Code:
        13 |         dependency_exception: Optional[Exception] = None
        14 |         async with AsyncExitStack() as stack:
    Symbol: fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware.__call__.stack (0 tokens)
    Lines: 14-15
    Code:
        14 |         async with AsyncExitStack() as stack:
        15 |             scope[self.context_name] = stack
    Symbol: fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware.__call__.scope (0 tokens)
    Lines: 15-16
    Code:
        15 |             scope[self.context_name] = stack
        16 |             try:
    Symbol: fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware.__call__.e (0 tokens)
    Lines: 18-19
    Code:
        18 |             except Exception as e:
        19 |                 dependency_exception = e

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/openapi/docs.py
    Symbol: fastapi.openapi.docs.get_swagger_ui_html.current_swagger_ui_parameters (0 tokens)
    Lines: 113-114
    Code:
       113 |     current_swagger_ui_parameters = swagger_ui_default_parameters.copy()
       114 |     if swagger_ui_parameters:
    Symbol: fastapi.openapi.docs.get_swagger_ui_html.html (0 tokens)
    Lines: 117-118
    Code:
       117 |     html = f"""
       118 |     <!DOCTYPE html>
    Symbol: fastapi.openapi.docs.get_swagger_ui_html.key (0 tokens)
    Lines: 135-136
    Code:
       135 |     for key, value in current_swagger_ui_parameters.items():
       136 |         html += f"{json.dumps(key)}: {json.dumps(jsonable_encoder(value))},\n"
    Symbol: fastapi.openapi.docs.get_redoc_html.html (0 tokens)
    Lines: 219-220
    Code:
       219 |     html = f"""
       220 |     <!DOCTYPE html>
    Symbol: fastapi.openapi.docs.get_swagger_ui_oauth2_redirect_html.html (0 tokens)
    Lines: 263-264
    Code:
       263 |     html = """
       264 |     <!doctype html>

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/openapi/models.py
    Symbol: fastapi._compat._model_rebuild (0 tokens)
    Lines: 9-10
    Code:
         9 |     _model_rebuild,
        10 |     with_info_plain_validator_function,
    Symbol: fastapi._compat.with_info_plain_validator_function (0 tokens)
    Lines: 10-11
    Code:
        10 |     with_info_plain_validator_function,
        11 | )
    Symbol: fastapi.logger.logger (0 tokens)
    Lines: 12-13
    Code:
        12 | from fastapi.logger import logger
        13 | from pydantic import AnyUrl, BaseModel, Field
    Symbol: pydantic.Field (0 tokens)
    Lines: 13-14
    Code:
        13 | from pydantic import AnyUrl, BaseModel, Field
        14 | from typing_extensions import Annotated, Literal, TypedDict
    Symbol: typing_extensions.TypedDict (0 tokens)
    Lines: 14-15
    Code:
        14 | from typing_extensions import Annotated, Literal, TypedDict
        15 | from typing_extensions import deprecated as typing_deprecated
    Symbol: email_validator (0 tokens)
    Lines: 18-19
    Code:
        18 |     import email_validator
        19 | 

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/openapi/utils.py
    Symbol: http (0 tokens)
    Lines: 1-2
    Code:
         1 | import http.client
         2 | import inspect
    Symbol: fastapi.routing (0 tokens)
    Lines: 6-7
    Code:
         6 | from fastapi import routing
         7 | from fastapi._compat import (
    Symbol: fastapi._compat.get_compat_model_name_map (0 tokens)
    Lines: 12-13
    Code:
        12 |     get_compat_model_name_map,
        13 |     get_definitions,
    Symbol: fastapi._compat.get_definitions (0 tokens)
    Lines: 13-14
    Code:
        13 |     get_definitions,
        14 |     get_schema_from_model_field,
    Symbol: fastapi._compat.get_schema_from_model_field (24 tokens)
    Lines: 14-15
    Code:
        14 |     get_schema_from_model_field,
        15 |     lenient_issubclass,
    Symbol: fastapi.dependencies.utils.get_flat_dependant (0 tokens)
    Lines: 19-20
    Code:
        19 | from fastapi.dependencies.utils import get_flat_dependant, get_flat_params
        20 | from fastapi.encoders import jsonable_encoder
    Symbol: fastapi.openapi.constants.METHODS_WITH_BODY (0 tokens)
    Lines: 21-22
    Code:
        21 | from fastapi.openapi.constants import METHODS_WITH_BODY, REF_PREFIX, REF_TEMPLATE
        22 | from fastapi.openapi.models import OpenAPI
    Symbol: fastapi.utils.deep_dict_update (0 tokens)
    Lines: 27-28
    Code:
        27 |     deep_dict_update,
        28 |     generate_operation_id_for_path,
    Symbol: fastapi.utils.generate_operation_id_for_path (0 tokens)
    Lines: 28-29
    Code:
        28 |     generate_operation_id_for_path,
        29 |     is_body_allowed_for_status_code,
    Symbol: starlette.status.HTTP_422_UNPROCESSABLE_ENTITY (0 tokens)
    Lines: 33-34
    Code:
        33 | from starlette.status import HTTP_422_UNPROCESSABLE_ENTITY
        34 | from typing_extensions import Literal
    Symbol: fastapi.openapi.utils.get_openapi_security_definitions.security_definitions (0 tokens)
    Lines: 76-77
    Code:
        76 |     security_definitions = {}
        77 |     operation_security = []
    Symbol: fastapi.openapi.utils.get_openapi_security_definitions.operation_security (0 tokens)
    Lines: 77-78
    Code:
        77 |     operation_security = []
        78 |     for security_requirement in flat_dependant.security_requirements:
    Symbol: fastapi.openapi.utils.get_openapi_security_definitions.security_requirement (0 tokens)
    Lines: 78-79
    Code:
        78 |     for security_requirement in flat_dependant.security_requirements:
        79 |         security_definition = jsonable_encoder(
    Symbol: fastapi.openapi.utils.get_openapi_security_definitions.security_definition (0 tokens)
    Lines: 79-80
    Code:
        79 |         security_definition = jsonable_encoder(
        80 |             security_requirement.security_scheme.model,
    Symbol: fastapi.openapi.utils.get_openapi_security_definitions.security_name (0 tokens)
    Lines: 84-85
    Code:
        84 |         security_name = security_requirement.security_scheme.scheme_name
        85 |         security_definitions[security_name] = security_definition
    Symbol: fastapi.openapi.utils.get_openapi_operation_parameters.parameters (0 tokens)
    Lines: 100-101
    Code:
       100 |     parameters = []
       101 |     for param in all_route_params:
    Symbol: fastapi.openapi.utils.get_openapi_operation_parameters.param (0 tokens)
    Lines: 101-102
    Code:
       101 |     for param in all_route_params:
       102 |         field_info = param.field_info
    Symbol: fastapi.openapi.utils.get_openapi_operation_parameters.field_info (0 tokens)
    Lines: 102-103
    Code:
       102 |         field_info = param.field_info
       103 |         field_info = cast(Param, field_info)
    Symbol: fastapi.openapi.utils.get_openapi_operation_parameters.param_schema (0 tokens)
    Lines: 106-107
    Code:
       106 |         param_schema = get_schema_from_model_field(
       107 |             field=param,
    Symbol: fastapi.openapi.utils.get_openapi_operation_parameters.parameter (0 tokens)
    Lines: 113-114
    Code:
       113 |         parameter = {
       114 |             "name": param.alias,
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body.body_schema (0 tokens)
    Lines: 144-145
    Code:
       144 |     body_schema = get_schema_from_model_field(
       145 |         field=body_field,
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body.field_info (0 tokens)
    Lines: 151-152
    Code:
       151 |     field_info = cast(Body, body_field.field_info)
       152 |     request_media_type = field_info.media_type
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body.request_media_type (0 tokens)
    Lines: 152-153
    Code:
       152 |     request_media_type = field_info.media_type
       153 |     required = body_field.required
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body.required (0 tokens)
    Lines: 153-154
    Code:
       153 |     required = body_field.required
       154 |     request_body_oai: Dict[str, Any] = {}
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body.request_body_oai (0 tokens)
    Lines: 154-155
    Code:
       154 |     request_body_oai: Dict[str, Any] = {}
       155 |     if required:
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body.request_media_content (0 tokens)
    Lines: 157-158
    Code:
       157 |     request_media_content: Dict[str, Any] = {"schema": body_schema}
       158 |     if field_info.openapi_examples:
    Symbol: fastapi.openapi.utils.generate_operation_id.path (0 tokens)
    Lines: 179-180
    Code:
       179 |     path: str = route.path_format
       180 |     return generate_operation_id_for_path(name=route.name, path=path, method=method)
    Symbol: fastapi.openapi.utils.get_openapi_operation_metadata.operation (0 tokens)
    Lines: 192-193
    Code:
       192 |     operation: Dict[str, Any] = {}
       193 |     if route.tags:
    Symbol: fastapi.openapi.utils.get_openapi_operation_metadata.operation_id (0 tokens)
    Lines: 198-199
    Code:
       198 |     operation_id = route.operation_id or route.unique_id
       199 |     if operation_id in operation_ids:
    Symbol: fastapi.openapi.utils.get_openapi_operation_metadata.message (0 tokens)
    Lines: 200-201
    Code:
       200 |         message = (
       201 |             f"Duplicate Operation ID {operation_id} for function "
    Symbol: fastapi.openapi.utils.get_openapi_operation_metadata.file_name (0 tokens)
    Lines: 204-205
    Code:
       204 |         file_name = getattr(route.endpoint, "__globals__", {}).get("__file__")
       205 |         if file_name:
    Symbol: fastapi.openapi.utils.get_openapi_path.path (0 tokens)
    Lines: 226-227
    Code:
       226 |     path = {}
       227 |     security_schemes: Dict[str, Any] = {}
    Symbol: fastapi.openapi.utils.get_openapi_path.security_schemes (0 tokens)
    Lines: 227-228
    Code:
       227 |     security_schemes: Dict[str, Any] = {}
       228 |     definitions: Dict[str, Any] = {}
    Symbol: fastapi.openapi.utils.get_openapi_path.definitions (0 tokens)
    Lines: 228-229
    Code:
       228 |     definitions: Dict[str, Any] = {}
       229 |     assert route.methods is not None, "Methods must be a list"
    Symbol: fastapi.openapi.utils.get_openapi_path.current_response_class (0 tokens)
    Lines: 231-232
    Code:
       231 |         current_response_class: Type[Response] = route.response_class.value
       232 |     else:
    Symbol: fastapi.openapi.utils.get_openapi_path.route_response_media_type (0 tokens)
    Lines: 235-236
    Code:
       235 |     route_response_media_type: Optional[str] = current_response_class.media_type
       236 |     if route.include_in_schema:
    Symbol: fastapi.openapi.utils.get_openapi_path.method (0 tokens)
    Lines: 237-238
    Code:
       237 |         for method in route.methods:
       238 |             operation = get_openapi_operation_metadata(
    Symbol: fastapi.openapi.utils.get_openapi_path.operation (0 tokens)
    Lines: 238-239
    Code:
       238 |             operation = get_openapi_operation_metadata(
       239 |                 route=route, method=method, operation_ids=operation_ids
    Symbol: fastapi.openapi.utils.get_openapi_path.parameters (0 tokens)
    Lines: 241-242
    Code:
       241 |             parameters: List[Dict[str, Any]] = []
       242 |             flat_dependant = get_flat_dependant(route.dependant, skip_repeats=True)
    Symbol: fastapi.openapi.utils.get_openapi_path.flat_dependant (0 tokens)
    Lines: 242-243
    Code:
       242 |             flat_dependant = get_flat_dependant(route.dependant, skip_repeats=True)
       243 |             security_definitions, operation_security = get_openapi_security_definitions(
    Symbol: fastapi.openapi.utils.get_openapi_path.operation_security (0 tokens)
    Lines: 243-244
    Code:
       243 |             security_definitions, operation_security = get_openapi_security_definitions(
       244 |                 flat_dependant=flat_dependant
    Symbol: fastapi.openapi.utils.get_openapi_path.all_route_params (0 tokens)
    Lines: 250-251
    Code:
       250 |             all_route_params = get_flat_params(route.dependant)
       251 |             operation_parameters = get_openapi_operation_parameters(
    Symbol: fastapi.openapi.utils.get_openapi_path.operation_parameters (0 tokens)
    Lines: 251-252
    Code:
       251 |             operation_parameters = get_openapi_operation_parameters(
       252 |                 all_route_params=all_route_params,
    Symbol: fastapi.openapi.utils.get_openapi_path.all_parameters (0 tokens)
    Lines: 260-261
    Code:
       260 |                 all_parameters = {
       261 |                     (param["in"], param["name"]): param for param in parameters
    Symbol: fastapi.openapi.utils.param (0 tokens)
    Lines: 261-262
    Code:
       261 |                     (param["in"], param["name"]): param for param in parameters
       262 |                 }
    Symbol: fastapi.openapi.utils.get_openapi_path.required_parameters (0 tokens)
    Lines: 263-264
    Code:
       263 |                 required_parameters = {
       264 |                     (param["in"], param["name"]): param
    Symbol: fastapi.openapi.utils.get_openapi_path.request_body_oai (0 tokens)
    Lines: 273-274
    Code:
       273 |                 request_body_oai = get_openapi_operation_request_body(
       274 |                     body_field=route.body_field,
    Symbol: fastapi.openapi.utils.get_openapi_path.callbacks (0 tokens)
    Lines: 283-284
    Code:
       283 |                 callbacks = {}
       284 |                 for callback in route.callbacks:
    Symbol: fastapi.openapi.utils.get_openapi_path.callback (0 tokens)
    Lines: 284-285
    Code:
       284 |                 for callback in route.callbacks:
       285 |                     if isinstance(callback, routing.APIRoute):
    Symbol: fastapi.openapi.utils.get_openapi_path.cb_path (0 tokens)
    Lines: 287-288
    Code:
       287 |                             cb_path,
       288 |                             cb_security_schemes,
    Symbol: fastapi.openapi.utils.get_openapi_path.cb_security_schemes (0 tokens)
    Lines: 288-289
    Code:
       288 |                             cb_security_schemes,
       289 |                             cb_definitions,
    Symbol: fastapi.openapi.utils.get_openapi_path.cb_definitions (0 tokens)
    Lines: 289-290
    Code:
       289 |                             cb_definitions,
       290 |                         ) = get_openapi_path(
    Symbol: fastapi.openapi.utils.get_openapi_path.status_code (0 tokens)
    Lines: 301-302
    Code:
       301 |                 status_code = str(route.status_code)
       302 |             else:
    Symbol: fastapi.openapi.utils.get_openapi_path.response_signature (0 tokens)
    Lines: 308-309
    Code:
       308 |                 response_signature = inspect.signature(current_response_class.__init__)
       309 |                 status_code_param = response_signature.parameters.get("status_code")
    Symbol: fastapi.openapi.utils.get_openapi_path.status_code_param (0 tokens)
    Lines: 309-310
    Code:
       309 |                 status_code_param = response_signature.parameters.get("status_code")
       310 |                 if status_code_param is not None:
    Symbol: fastapi.openapi.utils.get_openapi_path.response_schema (0 tokens)
    Lines: 319-320
    Code:
       319 |                 response_schema = {"type": "string"}
       320 |                 if lenient_issubclass(current_response_class, JSONResponse):
    Symbol: fastapi.openapi.utils.get_openapi_path.operation_responses (0 tokens)
    Lines: 337-338
    Code:
       337 |                 operation_responses = operation.setdefault("responses", {})
       338 |                 for (
    Symbol: fastapi.openapi.utils.get_openapi_path.additional_status_code (0 tokens)
    Lines: 339-340
    Code:
       339 |                     additional_status_code,
       340 |                     additional_response,
    Symbol: fastapi.openapi.utils.get_openapi_path.additional_response (0 tokens)
    Lines: 340-341
    Code:
       340 |                     additional_response,
       341 |                 ) in route.responses.items():
    Symbol: fastapi.openapi.utils.get_openapi_path.process_response (0 tokens)
    Lines: 342-343
    Code:
       342 |                     process_response = additional_response.copy()
       343 |                     process_response.pop("model", None)
    Symbol: fastapi.openapi.utils.get_openapi_path.status_code_key (0 tokens)
    Lines: 344-345
    Code:
       344 |                     status_code_key = str(additional_status_code).upper()
       345 |                     if status_code_key == "DEFAULT":
    Symbol: fastapi.openapi.utils.get_openapi_path.openapi_response (0 tokens)
    Lines: 347-348
    Code:
       347 |                     openapi_response = operation_responses.setdefault(
       348 |                         status_code_key, {}
    Symbol: fastapi.openapi.utils.get_openapi_path.field (0 tokens)
    Lines: 353-354
    Code:
       353 |                     field = route.response_fields.get(additional_status_code)
       354 |                     additional_field_schema: Optional[Dict[str, Any]] = None
    Symbol: fastapi.openapi.utils.get_openapi_path.additional_field_schema (0 tokens)
    Lines: 354-355
    Code:
       354 |                     additional_field_schema: Optional[Dict[str, Any]] = None
       355 |                     if field:
    Symbol: fastapi.openapi.utils.get_openapi_path.media_type (0 tokens)
    Lines: 363-364
    Code:
       363 |                         media_type = route_response_media_type or "application/json"
       364 |                         additional_schema = (
    Symbol: fastapi.openapi.utils.get_openapi_path.additional_schema (0 tokens)
    Lines: 364-365
    Code:
       364 |                         additional_schema = (
       365 |                             process_response.setdefault("content", {})
    Symbol: fastapi.openapi.utils.get_openapi_path.status_text (0 tokens)
    Lines: 370-371
    Code:
       370 |                     status_text: Optional[str] = status_code_ranges.get(
       371 |                         str(additional_status_code).upper()
    Symbol: fastapi.openapi.utils.get_openapi_path.description (0 tokens)
    Lines: 373-374
    Code:
       373 |                     description = (
       374 |                         process_response.get("description")
    Symbol: fastapi.openapi.utils.get_openapi_path.http422 (0 tokens)
    Lines: 381-382
    Code:
       381 |             http422 = str(HTTP_422_UNPROCESSABLE_ENTITY)
       382 |             if (all_route_params or route.body_field) and not any(
    Symbol: fastapi.openapi.utils.status (0 tokens)
    Lines: 384-385
    Code:
       384 |                 for status in [http422, "4XX", "default"]
       385 |             ):
    Symbol: fastapi.openapi.utils.get_fields_from_routes.body_fields_from_routes (0 tokens)
    Lines: 410-411
    Code:
       410 |     body_fields_from_routes: List[ModelField] = []
       411 |     responses_from_routes: List[ModelField] = []
    Symbol: fastapi.openapi.utils.get_fields_from_routes.responses_from_routes (0 tokens)
    Lines: 411-412
    Code:
       411 |     responses_from_routes: List[ModelField] = []
       412 |     request_fields_from_routes: List[ModelField] = []
    Symbol: fastapi.openapi.utils.get_fields_from_routes.request_fields_from_routes (0 tokens)
    Lines: 412-413
    Code:
       412 |     request_fields_from_routes: List[ModelField] = []
       413 |     callback_flat_models: List[ModelField] = []
    Symbol: fastapi.openapi.utils.get_fields_from_routes.callback_flat_models (0 tokens)
    Lines: 413-414
    Code:
       413 |     callback_flat_models: List[ModelField] = []
       414 |     for route in routes:
    Symbol: fastapi.openapi.utils.get_fields_from_routes.route (0 tokens)
    Lines: 414-415
    Code:
       414 |     for route in routes:
       415 |         if getattr(route, "include_in_schema", None) and isinstance(
    Symbol: fastapi.openapi.utils.get_fields_from_routes.params (0 tokens)
    Lines: 429-430
    Code:
       429 |             params = get_flat_params(route.dependant)
       430 |             request_fields_from_routes.extend(params)
    Symbol: fastapi.openapi.utils.get_fields_from_routes.flat_models (0 tokens)
    Lines: 432-433
    Code:
       432 |     flat_models = callback_flat_models + list(
       433 |         body_fields_from_routes + responses_from_routes + request_fields_from_routes
    Symbol: fastapi.openapi.utils.get_openapi.info (0 tokens)
    Lines: 454-455
    Code:
       454 |     info: Dict[str, Any] = {"title": title, "version": version}
       455 |     if summary:
    Symbol: fastapi.openapi.utils.get_openapi.output (0 tokens)
    Lines: 465-466
    Code:
       465 |     output: Dict[str, Any] = {"openapi": openapi_version, "info": info}
       466 |     if servers:
    Symbol: fastapi.openapi.utils.get_openapi.components (0 tokens)
    Lines: 468-469
    Code:
       468 |     components: Dict[str, Dict[str, Any]] = {}
       469 |     paths: Dict[str, Dict[str, Any]] = {}
    Symbol: fastapi.openapi.utils.get_openapi.paths (0 tokens)
    Lines: 469-470
    Code:
       469 |     paths: Dict[str, Dict[str, Any]] = {}
       470 |     webhook_paths: Dict[str, Dict[str, Any]] = {}
    Symbol: fastapi.openapi.utils.get_openapi.webhook_paths (0 tokens)
    Lines: 470-471
    Code:
       470 |     webhook_paths: Dict[str, Dict[str, Any]] = {}
       471 |     operation_ids: Set[str] = set()
    Symbol: fastapi.openapi.utils.get_openapi.operation_ids (0 tokens)
    Lines: 471-472
    Code:
       471 |     operation_ids: Set[str] = set()
       472 |     all_fields = get_fields_from_routes(list(routes or []) + list(webhooks or []))
    Symbol: fastapi.openapi.utils.get_openapi.all_fields (0 tokens)
    Lines: 472-473
    Code:
       472 |     all_fields = get_fields_from_routes(list(routes or []) + list(webhooks or []))
       473 |     model_name_map = get_compat_model_name_map(all_fields)
    Symbol: fastapi.openapi.utils.get_openapi.model_name_map (0 tokens)
    Lines: 473-474
    Code:
       473 |     model_name_map = get_compat_model_name_map(all_fields)
       474 |     schema_generator = GenerateJsonSchema(ref_template=REF_TEMPLATE)
    Symbol: fastapi.openapi.utils.get_openapi.schema_generator (0 tokens)
    Lines: 474-475
    Code:
       474 |     schema_generator = GenerateJsonSchema(ref_template=REF_TEMPLATE)
       475 |     field_mapping, definitions = get_definitions(
    Symbol: fastapi.openapi.utils.get_openapi.definitions (0 tokens)
    Lines: 475-476
    Code:
       475 |     field_mapping, definitions = get_definitions(
       476 |         fields=all_fields,
    Symbol: fastapi.openapi.utils.get_openapi.route (0 tokens)
    Lines: 481-482
    Code:
       481 |     for route in routes or []:
       482 |         if isinstance(route, routing.APIRoute):
    Symbol: fastapi.openapi.utils.get_openapi.result (0 tokens)
    Lines: 483-484
    Code:
       483 |             result = get_openapi_path(
       484 |                 route=route,
    Symbol: fastapi.openapi.utils.get_openapi.path (0 tokens)
    Lines: 492-493
    Code:
       492 |                 path, security_schemes, path_definitions = result
       493 |                 if path:
    Symbol: fastapi.openapi.utils.get_openapi.webhook (0 tokens)
    Lines: 501-502
    Code:
       501 |     for webhook in webhooks or []:
       502 |         if isinstance(webhook, routing.APIRoute):
    Symbol: fastapi.openapi.utils.k (0 tokens)
    Lines: 522-523
    Code:
       522 |         components["schemas"] = {k: definitions[k] for k in sorted(definitions)}
       523 |     if components:

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/routing.py
    Symbol: inspect (0 tokens)
    Lines: 4-5
    Code:
         4 | import inspect
         5 | import json
    Symbol: fastapi.params (0 tokens)
    Lines: 22-23
    Code:
        22 | from fastapi import params
        23 | from fastapi._compat import (
    Symbol: fastapi.dependencies.utils.get_dependant (0 tokens)
    Lines: 35-36
    Code:
        35 |     get_dependant,
        36 |     get_parameterless_sub_dependant,
    Symbol: fastapi.dependencies.utils.solve_dependencies (0 tokens)
    Lines: 38-39
    Code:
        38 |     solve_dependencies,
        39 | )
    Symbol: fastapi.encoders.jsonable_encoder (26 tokens)
    Lines: 40-41
    Code:
        40 | from fastapi.encoders import jsonable_encoder
        41 | from fastapi.exceptions import (
    Symbol: fastapi.utils.create_response_field (0 tokens)
    Lines: 50-51
    Code:
        50 |     create_response_field,
        51 |     generate_unique_id,
    Symbol: fastapi.utils.is_body_allowed_for_status_code (0 tokens)
    Lines: 53-54
    Code:
        53 |     is_body_allowed_for_status_code,
        54 | )
    Symbol: starlette.routing (0 tokens)
    Lines: 56-57
    Code:
        56 | from starlette import routing
        57 | from starlette.concurrency import run_in_threadpool
    Symbol: starlette.concurrency.run_in_threadpool (0 tokens)
    Lines: 57-58
    Code:
        57 | from starlette.concurrency import run_in_threadpool
        58 | from starlette.exceptions import HTTPException

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/security/api_key.py
    Symbol: fastapi.security.api_key.APIKeyQuery.__call__.api_key (0 tokens)
    Lines: 103-104
    Code:
       103 |         api_key = request.query_params.get(self.model.name)
       104 |         if not api_key:
    Symbol: fastapi.security.api_key.APIKeyHeader.__call__.api_key (0 tokens)
    Lines: 198-199
    Code:
       198 |         api_key = request.headers.get(self.model.name)
       199 |         if not api_key:
    Symbol: fastapi.security.api_key.APIKeyCookie.__call__.api_key (0 tokens)
    Lines: 293-294
    Code:
       293 |         api_key = request.cookies.get(self.model.name)
       294 |         if not api_key:

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/security/http.py
    Symbol: binascii (0 tokens)
    Lines: 1-2
    Code:
         1 | import binascii
         2 | from base64 import b64decode
    Symbol: base64.b64decode (0 tokens)
    Lines: 2-3
    Code:
         2 | from base64 import b64decode
         3 | from typing import Optional
    Symbol: fastapi.security.http.HTTPBase.__call__.authorization (0 tokens)
    Lines: 85-86
    Code:
        85 |         authorization = request.headers.get("Authorization")
        86 |         scheme, credentials = get_authorization_scheme_param(authorization)
    Symbol: fastapi.security.http.HTTPBase.__call__.credentials (0 tokens)
    Lines: 86-87
    Code:
        86 |         scheme, credentials = get_authorization_scheme_param(authorization)
        87 |         if not (authorization and scheme and credentials):
    Symbol: fastapi.security.http.HTTPBasic.__call__.authorization (0 tokens)
    Lines: 190-191
    Code:
       190 |         authorization = request.headers.get("Authorization")
       191 |         scheme, param = get_authorization_scheme_param(authorization)
    Symbol: fastapi.security.http.HTTPBasic.__call__.param (0 tokens)
    Lines: 191-192
    Code:
       191 |         scheme, param = get_authorization_scheme_param(authorization)
       192 |         if self.realm:
    Symbol: fastapi.security.http.HTTPBasic.__call__.unauthorized_headers (0 tokens)
    Lines: 193-194
    Code:
       193 |             unauthorized_headers = {"WWW-Authenticate": f'Basic realm="{self.realm}"'}
       194 |         else:
    Symbol: fastapi.security.http.HTTPBasic.__call__.invalid_user_credentials_exc (0 tokens)
    Lines: 205-206
    Code:
       205 |         invalid_user_credentials_exc = HTTPException(
       206 |             status_code=HTTP_401_UNAUTHORIZED,
    Symbol: fastapi.security.http.HTTPBasic.__call__.data (0 tokens)
    Lines: 211-212
    Code:
       211 |             data = b64decode(param).decode("ascii")
       212 |         except (ValueError, UnicodeDecodeError, binascii.Error):
    Symbol: fastapi.security.http.HTTPBasic.__call__.password (0 tokens)
    Lines: 214-215
    Code:
       214 |         username, separator, password = data.partition(":")
       215 |         if not separator:
    Symbol: fastapi.security.http.HTTPBearer.__call__.authorization (0 tokens)
    Lines: 304-305
    Code:
       304 |         authorization = request.headers.get("Authorization")
       305 |         scheme, credentials = get_authorization_scheme_param(authorization)
    Symbol: fastapi.security.http.HTTPBearer.__call__.credentials (0 tokens)
    Lines: 305-306
    Code:
       305 |         scheme, credentials = get_authorization_scheme_param(authorization)
       306 |         if not (authorization and scheme and credentials):
    Symbol: fastapi.security.http.HTTPDigest.__call__.authorization (0 tokens)
    Lines: 406-407
    Code:
       406 |         authorization = request.headers.get("Authorization")
       407 |         scheme, credentials = get_authorization_scheme_param(authorization)
    Symbol: fastapi.security.http.HTTPDigest.__call__.credentials (0 tokens)
    Lines: 407-408
    Code:
       407 |         scheme, credentials = get_authorization_scheme_param(authorization)
       408 |         if not (authorization and scheme and credentials):

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/security/oauth2.py
    Symbol: fastapi.param_functions.Form (26 tokens)
    Lines: 6-7
    Code:
         6 | from fastapi.param_functions import Form
         7 | from fastapi.security.base import SecurityBase
    Symbol: fastapi.security.utils.get_authorization_scheme_param (0 tokens)
    Lines: 8-9
    Code:
         8 | from fastapi.security.utils import get_authorization_scheme_param
         9 | from starlette.requests import Request
    Symbol: starlette.status.HTTP_401_UNAUTHORIZED (0 tokens)
    Lines: 10-11
    Code:
        10 | from starlette.status import HTTP_401_UNAUTHORIZED, HTTP_403_FORBIDDEN
        11 | 
    Symbol: fastapi.security.oauth2.OAuth2.__call__.authorization (0 tokens)
    Lines: 380-381
    Code:
       380 |         authorization = request.headers.get("Authorization")
       381 |         if not authorization:
    Symbol: fastapi.security.oauth2.OAuth2PasswordBearer.__init__.scopes (0 tokens)
    Lines: 462-463
    Code:
       462 |             scopes = {}
       463 |         flows = OAuthFlowsModel(
    Symbol: fastapi.security.oauth2.OAuth2PasswordBearer.__init__.flows (0 tokens)
    Lines: 463-464
    Code:
       463 |         flows = OAuthFlowsModel(
       464 |             password=cast(Any, {"tokenUrl": tokenUrl, "scopes": scopes})
    Symbol: fastapi.security.oauth2.OAuth2PasswordBearer.__call__.authorization (0 tokens)
    Lines: 474-475
    Code:
       474 |         authorization = request.headers.get("Authorization")
       475 |         scheme, param = get_authorization_scheme_param(authorization)
    Symbol: fastapi.security.oauth2.OAuth2PasswordBearer.__call__.param (0 tokens)
    Lines: 475-476
    Code:
       475 |         scheme, param = get_authorization_scheme_param(authorization)
       476 |         if not authorization or scheme.lower() != "bearer":
    Symbol: fastapi.security.oauth2.OAuth2AuthorizationCodeBearer.__init__.scopes (0 tokens)
    Lines: 564-565
    Code:
       564 |             scopes = {}
       565 |         flows = OAuthFlowsModel(
    Symbol: fastapi.security.oauth2.OAuth2AuthorizationCodeBearer.__init__.flows (0 tokens)
    Lines: 565-566
    Code:
       565 |         flows = OAuthFlowsModel(
       566 |             authorizationCode=cast(
    Symbol: fastapi.security.oauth2.OAuth2AuthorizationCodeBearer.__call__.authorization (0 tokens)
    Lines: 584-585
    Code:
       584 |         authorization = request.headers.get("Authorization")
       585 |         scheme, param = get_authorization_scheme_param(authorization)
    Symbol: fastapi.security.oauth2.OAuth2AuthorizationCodeBearer.__call__.param (0 tokens)
    Lines: 585-586
    Code:
       585 |         scheme, param = get_authorization_scheme_param(authorization)
       586 |         if not authorization or scheme.lower() != "bearer":

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/security/open_id_connect_url.py
    Symbol: starlette.status.HTTP_403_FORBIDDEN (0 tokens)
    Lines: 7-8
    Code:
         7 | from starlette.status import HTTP_403_FORBIDDEN
         8 | from typing_extensions import Annotated, Doc  # type: ignore [attr-defined]
    Symbol: typing_extensions.Annotated (0 tokens)
    Lines: 8-9
    Code:
         8 | from typing_extensions import Annotated, Doc  # type: ignore [attr-defined]
         9 | 
    Symbol: fastapi.security.open_id_connect_url.OpenIdConnect.__call__.authorization (0 tokens)
    Lines: 76-77
    Code:
        76 |         authorization = request.headers.get("Authorization")
        77 |         if not authorization:

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/security/utils.py
    Symbol: fastapi.security.utils.get_authorization_scheme_param._ (0 tokens)
    Lines: 9-10
    Code:
         9 |     scheme, _, param = authorization_header_value.partition(" ")
        10 |     return scheme, param

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/types.py
    Symbol: types (0 tokens)
    Lines: 1-2
    Code:
         1 | import types
         2 | from enum import Enum

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/fastapi/utils.py
    Symbol: warnings (0 tokens)
    Lines: 2-3
    Code:
         2 | import warnings
         3 | from dataclasses import is_dataclass
    Symbol: typing.TYPE_CHECKING (0 tokens)
    Lines: 5-6
    Code:
         5 |     TYPE_CHECKING,
         6 |     Any,
    Symbol: typing.cast (0 tokens)
    Lines: 13-14
    Code:
        13 |     cast,
        14 | )
    Symbol: fastapi._compat.PYDANTIC_V2 (0 tokens)
    Lines: 19-20
    Code:
        19 |     PYDANTIC_V2,
        20 |     BaseConfig,
    Symbol: fastapi._compat.Undefined (0 tokens)
    Lines: 23-24
    Code:
        23 |     Undefined,
        24 |     UndefinedType,
    Symbol: fastapi._compat.lenient_issubclass (0 tokens)
    Lines: 26-27
    Code:
        26 |     lenient_issubclass,
        27 | )
    Symbol: pydantic.create_model (0 tokens)
    Lines: 29-30
    Code:
        29 | from pydantic import BaseModel, create_model
        30 | from pydantic.fields import FieldInfo
    Symbol: typing_extensions.Literal (0 tokens)
    Lines: 31-32
    Code:
        31 | from typing_extensions import Literal
        32 | 

  ðŸ“„ File: /Users/leric/code/context-footprint/tests/fixtures/fastapi/scripts/docs.py
    Symbol: json (0 tokens)
    Lines: 1-2
    Code:
         1 | import json
         2 | import logging
    Symbol: logging (0 tokens)
    Lines: 2-3
    Code:
         2 | import logging
         3 | import os

  ðŸ“„ File: fastapi/__init__.py
    Symbol: fastapi.__init__.__version__ (7 tokens)
    Lines: 3-4
    Code:
         3 | __version__ = "0.104.1"
         4 | 

  ðŸ“„ File: fastapi/_compat.py
    Symbol: fastapi._compat.sequence_annotation_to_type (27 tokens)
    Lines: 30-43
    Code:
        30 | sequence_annotation_to_type = {
        31 |     Sequence: list,
        32 |     List: list,
        33 |     list: list,
        34 |     Tuple: tuple,
        35 |     tuple: tuple,
        36 |     Set: set,
        37 |     set: set,
        38 |     FrozenSet: frozenset,
        39 |     frozenset: frozenset,
        40 |     Deque: deque,
        41 |     deque: deque,
        42 | }
        43 | 
    Symbol: fastapi._compat.UndefinedType (7 tokens)
    Lines: 73-74
    Code:
        73 |     UndefinedType = PydanticUndefinedType
        74 |     evaluate_forwardref = eval_type_lenient
    Symbol: fastapi._compat.Validator (3 tokens)
    Lines: 75-76
    Code:
        75 |     Validator = Any
        76 | 
    Symbol: fastapi._compat.ModelField.field_info (5 tokens)
    Lines: 85-86
    Code:
        85 |         field_info: FieldInfo
        86 |         name: str
    Symbol: fastapi._compat.ModelField.name (4 tokens)
    Lines: 86-87
    Code:
        86 |         name: str
        87 |         mode: Literal["validation", "serialization"] = "validation"
    Symbol: fastapi._compat.ModelField.mode (9 tokens)
    Lines: 87-88
    Code:
        87 |         mode: Literal["validation", "serialization"] = "validation"
        88 | 
    Symbol: fastapi._compat.GetJsonSchemaHandler (10 tokens)
    Lines: 327-328
    Code:
       327 |     GetJsonSchemaHandler = Any  # type: ignore[assignment,misc]
       328 |     JsonSchemaValue = Dict[str, Any]  # type: ignore[misc]
    Symbol: fastapi._compat.JsonSchemaValue (15 tokens)
    Lines: 328-329
    Code:
       328 |     JsonSchemaValue = Dict[str, Any]  # type: ignore[misc]
       329 |     CoreSchema = Any  # type: ignore[assignment,misc]
    Symbol: fastapi._compat.CoreSchema (7 tokens)
    Lines: 329-330
    Code:
       329 |     CoreSchema = Any  # type: ignore[assignment,misc]
       330 | 
    Symbol: fastapi._compat.sequence_shape_to_type (20 tokens)
    Lines: 339-346
    Code:
       339 |     sequence_shape_to_type = {
       340 |         SHAPE_LIST: list,
       341 |         SHAPE_SET: set,
       342 |         SHAPE_TUPLE: tuple,
       343 |         SHAPE_SEQUENCE: list,
       344 |         SHAPE_TUPLE_ELLIPSIS: list,
       345 |     }
       346 | 
    Symbol: fastapi._compat.GenerateJsonSchema.ref_template (3 tokens)
    Lines: 349-350
    Code:
       349 |         ref_template: str
       350 | 

  ðŸ“„ File: fastapi/applications.py
    Symbol: fastapi.applications.AppType (8 tokens)
    Lines: 48-49
    Code:
        48 | AppType = TypeVar("AppType", bound="FastAPI")
        49 | 

  ðŸ“„ File: fastapi/background.py
    Symbol: fastapi.background.P (5 tokens)
    Lines: 6-7
    Code:
         6 | P = ParamSpec("P")
         7 | 

  ðŸ“„ File: fastapi/concurrency.py
    Symbol: fastapi.concurrency._T (5 tokens)
    Lines: 13-14
    Code:
        13 | _T = TypeVar("_T")
        14 | 

  ðŸ“„ File: fastapi/datastructures.py
    Symbol: fastapi.datastructures.UploadFile.file (15 tokens)
    Lines: 64-68
    Code:
        64 |     file: Annotated[
        65 |         BinaryIO,
        66 |         Doc("The standard Python file object (non-async)."),
        67 |     ]
        68 |     filename: Annotated[Optional[str], Doc("The original file name.")]
    Symbol: fastapi.datastructures.UploadFile.filename (23 tokens)
    Lines: 68-69
    Code:
        68 |     filename: Annotated[Optional[str], Doc("The original file name.")]
        69 |     size: Annotated[Optional[int], Doc("The size of the file in bytes.")]
    Symbol: fastapi.datastructures.UploadFile.size (25 tokens)
    Lines: 69-70
    Code:
        69 |     size: Annotated[Optional[int], Doc("The size of the file in bytes.")]
        70 |     headers: Annotated[Headers, Doc("The headers of the request.")]
    Symbol: fastapi.datastructures.UploadFile.headers (14 tokens)
    Lines: 70-71
    Code:
        70 |     headers: Annotated[Headers, Doc("The headers of the request.")]
        71 |     content_type: Annotated[
    Symbol: fastapi.datastructures.DefaultType (5 tokens)
    Lines: 194-195
    Code:
       194 | DefaultType = TypeVar("DefaultType")
       195 | 

  ðŸ“„ File: fastapi/dependencies/models.py
    Symbol: fastapi.dependencies.models.SecurityRequirement.__init__ (23 tokens)
    Lines: 8-13
    Code:
         8 |     def __init__(
         9 |         self, security_scheme: SecurityBase, scopes: Optional[Sequence[str]] = None
        10 |     ):
        11 |         self.security_scheme = security_scheme
        12 |         self.scopes = scopes
        13 | 
    Symbol: fastapi.dependencies.models.Dependant.__init__ (241 tokens)
    Lines: 16-59
    Code:
        16 |     def __init__(
        17 |         self,
        18 |         *,
        19 |         path_params: Optional[List[ModelField]] = None,
        20 |         query_params: Optional[List[ModelField]] = None,
        21 |         header_params: Optional[List[ModelField]] = None,
        22 |         cookie_params: Optional[List[ModelField]] = None,
        23 |         body_params: Optional[List[ModelField]] = None,
        24 |         dependencies: Optional[List["Dependant"]] = None,
        25 |         security_schemes: Optional[List[SecurityRequirement]] = None,
        26 |         name: Optional[str] = None,
        27 |         call: Optional[Callable[..., Any]] = None,
        28 |         request_param_name: Optional[str] = None,
        29 |         websocket_param_name: Optional[str] = None,
        30 |         http_connection_param_name: Optional[str] = None,
        31 |         response_param_name: Optional[str] = None,
        32 |         background_tasks_param_name: Optional[str] = None,
        33 |         security_scopes_param_name: Optional[str] = None,
        34 |         security_scopes: Optional[List[str]] = None,
        35 |         use_cache: bool = True,
        36 |         path: Optional[str] = None,
        37 |     ) -> None:
        38 |         self.path_params = path_params or []
        39 |         self.query_params = query_params or []
        40 |         self.header_params = header_params or []
        41 |         self.cookie_params = cookie_params or []
        42 |         self.body_params = body_params or []
        43 |         self.dependencies = dependencies or []
        44 |         self.security_requirements = security_schemes or []
        45 |         self.request_param_name = request_param_name
        46 |         self.websocket_param_name = websocket_param_name
        47 |         self.http_connection_param_name = http_connection_param_name
        48 |         self.response_param_name = response_param_name
        49 |         self.background_tasks_param_name = background_tasks_param_name
        50 |         self.security_scopes = security_scopes
        51 |         self.security_scopes_param_name = security_scopes_param_name
        52 |         self.name = name
        53 |         self.call = call
        54 |         self.use_cache = use_cache
        55 |         # Store the path to be able to re-generate a dependable from it in overrides
        56 |         self.path = path
        57 |         # Save the cache key at creation to optimize performance
        58 |         self.cache_key = (self.call, tuple(sorted(set(self.security_scopes or []))))

  ðŸ“„ File: fastapi/dependencies/utils.py
    Symbol: fastapi.dependencies.utils.multipart_not_installed_error (28 tokens)
    Lines: 68-73
    Code:
        68 | multipart_not_installed_error = (
        69 |     'Form data requires "python-multipart" to be installed. \n'
        70 |     'You can install "python-multipart" with: \n\n'
        71 |     "pip install python-multipart\n"
        72 | )
        73 | multipart_incorrect_install_error = (
    Symbol: fastapi.dependencies.utils.multipart_incorrect_install_error (47 tokens)
    Lines: 73-81
    Code:
        73 | multipart_incorrect_install_error = (
        74 |     'Form data requires "python-multipart" to be installed. '
        75 |     'It seems you installed "multipart" instead. \n'
        76 |     'You can remove "multipart" with: \n\n'
        77 |     "pip uninstall multipart\n\n"
        78 |     'And then install "python-multipart" with: \n\n'
        79 |     "pip install python-multipart\n"
        80 | )
        81 | 
    Symbol: fastapi.dependencies.utils.check_file_field (67 tokens)
    Lines: 83-102
    Code:
        83 | def check_file_field(field: ModelField) -> None:
        84 |     field_info = field.field_info
        85 |     if isinstance(field_info, params.Form):
        86 |         try:
        87 |             # __version__ is available in both multiparts, and can be mocked
        88 |             from multipart import __version__  # type: ignore
        89 | 
        90 |             assert __version__
        91 |             try:
        92 |                 # parse_options_header is only available in the right multipart
        93 |                 from multipart.multipart import parse_options_header  # type: ignore
        94 | 
        95 |                 assert parse_options_header
        96 |             except ImportError:
        97 |                 logger.error(multipart_incorrect_install_error)
        98 |                 raise RuntimeError(multipart_incorrect_install_error) from None
        99 |         except ImportError:
       100 |             logger.error(multipart_not_installed_error)
       101 |             raise RuntimeError(multipart_not_installed_error) from None
       102 | 
    Symbol: fastapi.dependencies.utils.get_param_sub_dependant (42 tokens)
    Lines: 104-119
    Code:
       104 | def get_param_sub_dependant(
       105 |     *,
       106 |     param_name: str,
       107 |     depends: params.Depends,
       108 |     path: str,
       109 |     security_scopes: Optional[List[str]] = None,
       110 | ) -> Dependant:
       111 |     assert depends.dependency
       112 |     return get_sub_dependant(
       113 |         depends=depends,
       114 |         dependency=depends.dependency,
       115 |         path=path,
       116 |         name=param_name,
       117 |         security_scopes=security_scopes,
       118 |     )
       119 | 
    Symbol: fastapi.dependencies.utils.get_sub_dependant (108 tokens)
    Lines: 128-158
    Code:
       128 | def get_sub_dependant(
       129 |     *,
       130 |     depends: params.Depends,
       131 |     dependency: Callable[..., Any],
       132 |     path: str,
       133 |     name: Optional[str] = None,
       134 |     security_scopes: Optional[List[str]] = None,
       135 | ) -> Dependant:
       136 |     security_requirement = None
       137 |     security_scopes = security_scopes or []
       138 |     if isinstance(depends, params.Security):
       139 |         dependency_scopes = depends.scopes
       140 |         security_scopes.extend(dependency_scopes)
       141 |     if isinstance(dependency, SecurityBase):
       142 |         use_scopes: List[str] = []
       143 |         if isinstance(dependency, (OAuth2, OpenIdConnect)):
       144 |             use_scopes = security_scopes
       145 |         security_requirement = SecurityRequirement(
       146 |             security_scheme=dependency, scopes=use_scopes
       147 |         )
       148 |     sub_dependant = get_dependant(
       149 |         path=path,
       150 |         call=dependency,
       151 |         name=name,
       152 |         security_scopes=security_scopes,
       153 |         use_cache=depends.use_cache,
       154 |     )
       155 |     if security_requirement:
       156 |         sub_dependant.security_requirements.append(security_requirement)
       157 |     return sub_dependant
       158 | 
    Symbol: fastapi.dependencies.utils.CacheKey (13 tokens)
    Lines: 160-161
    Code:
       160 | CacheKey = Tuple[Optional[Callable[..., Any]], Tuple[str, ...]]
       161 | 
    Symbol: fastapi.dependencies.utils.get_typed_signature (59 tokens)
    Lines: 208-222
    Code:
       208 | def get_typed_signature(call: Callable[..., Any]) -> inspect.Signature:
       209 |     signature = inspect.signature(call)
       210 |     globalns = getattr(call, "__globals__", {})
       211 |     typed_params = [
       212 |         inspect.Parameter(
       213 |             name=param.name,
       214 |             kind=param.kind,
       215 |             default=param.default,
       216 |             annotation=get_typed_annotation(param.annotation, globalns),
       217 |         )
       218 |         for param in signature.parameters.values()
       219 |     ]
       220 |     typed_signature = inspect.Signature(typed_params)
       221 |     return typed_signature
       222 | 
    Symbol: fastapi.dependencies.utils.get_typed_annotation (30 tokens)
    Lines: 224-229
    Code:
       224 | def get_typed_annotation(annotation: Any, globalns: Dict[str, Any]) -> Any:
       225 |     if isinstance(annotation, str):
       226 |         annotation = ForwardRef(annotation)
       227 |         annotation = evaluate_forwardref(annotation, globalns, globalns)
       228 |     return annotation
       229 | 
    Symbol: fastapi.dependencies.utils.add_non_field_param_to_dependency (97 tokens)
    Lines: 294-316
    Code:
       294 | def add_non_field_param_to_dependency(
       295 |     *, param_name: str, type_annotation: Any, dependant: Dependant
       296 | ) -> Optional[bool]:
       297 |     if lenient_issubclass(type_annotation, Request):
       298 |         dependant.request_param_name = param_name
       299 |         return True
       300 |     elif lenient_issubclass(type_annotation, WebSocket):
       301 |         dependant.websocket_param_name = param_name
       302 |         return True
       303 |     elif lenient_issubclass(type_annotation, HTTPConnection):
       304 |         dependant.http_connection_param_name = param_name
       305 |         return True
       306 |     elif lenient_issubclass(type_annotation, Response):
       307 |         dependant.response_param_name = param_name
       308 |         return True
       309 |     elif lenient_issubclass(type_annotation, StarletteBackgroundTasks):
       310 |         dependant.background_tasks_param_name = param_name
       311 |         return True
       312 |     elif lenient_issubclass(type_annotation, SecurityScopes):
       313 |         dependant.security_scopes_param_name = param_name
       314 |         return True
       315 |     return None
       316 | 
    Symbol: fastapi.dependencies.utils.analyze_param (552 tokens)
    Lines: 318-447
    Code:
       318 | def analyze_param(
       319 |     *,
       320 |     param_name: str,
       321 |     annotation: Any,
       322 |     value: Any,
       323 |     is_path_param: bool,
       324 | ) -> Tuple[Any, Optional[params.Depends], Optional[ModelField]]:
       325 |     field_info = None
       326 |     depends = None
       327 |     type_annotation: Any = Any
       328 |     if (
       329 |         annotation is not inspect.Signature.empty
       330 |         and get_origin(annotation) is Annotated
       331 |     ):
       332 |         annotated_args = get_args(annotation)
       333 |         type_annotation = annotated_args[0]
       334 |         fastapi_annotations = [
       335 |             arg
       336 |             for arg in annotated_args[1:]
       337 |             if isinstance(arg, (FieldInfo, params.Depends))
       338 |         ]
       339 |         assert (
       340 |             len(fastapi_annotations) <= 1
       341 |         ), f"Cannot specify multiple `Annotated` FastAPI arguments for {param_name!r}"
       342 |         fastapi_annotation = next(iter(fastapi_annotations), None)
       343 |         if isinstance(fastapi_annotation, FieldInfo):
       344 |             # Copy `field_info` because we mutate `field_info.default` below.
       345 |             field_info = copy_field_info(
       346 |                 field_info=fastapi_annotation, annotation=annotation
       347 |             )
       348 |             assert field_info.default is Undefined or field_info.default is Required, (
       349 |                 f"`{field_info.__class__.__name__}` default value cannot be set in"
       350 |                 f" `Annotated` for {param_name!r}. Set the default value with `=` instead."
       351 |             )
       352 |             if value is not inspect.Signature.empty:
       353 |                 assert not is_path_param, "Path parameters cannot have default values"
       354 |                 field_info.default = value
       355 |             else:
       356 |                 field_info.default = Required
       357 |         elif isinstance(fastapi_annotation, params.Depends):
       358 |             depends = fastapi_annotation
       359 |     elif annotation is not inspect.Signature.empty:
       360 |         type_annotation = annotation
       361 | 
       362 |     if isinstance(value, params.Depends):
       363 |         assert depends is None, (
       364 |             "Cannot specify `Depends` in `Annotated` and default value"
       365 |             f" together for {param_name!r}"
       366 |         )
       367 |         assert field_info is None, (
       368 |             "Cannot specify a FastAPI annotation in `Annotated` and `Depends` as a"
       369 |             f" default value together for {param_name!r}"
       370 |         )
       371 |         depends = value
       372 |     elif isinstance(value, FieldInfo):
       373 |         assert field_info is None, (
       374 |             "Cannot specify FastAPI annotations in `Annotated` and default value"
       375 |             f" together for {param_name!r}"
       376 |         )
       377 |         field_info = value
       378 |         if PYDANTIC_V2:
       379 |             field_info.annotation = type_annotation
       380 | 
       381 |     if depends is not None and depends.dependency is None:
       382 |         depends.dependency = type_annotation
       383 | 
       384 |     if lenient_issubclass(
       385 |         type_annotation,
       386 |         (
       387 |             Request,
       388 |             WebSocket,
       389 |             HTTPConnection,
       390 |             Response,
       391 |             StarletteBackgroundTasks,
       392 |             SecurityScopes,
       393 |         ),
       394 |     ):
       395 |         assert depends is None, f"Cannot specify `Depends` for type {type_annotation!r}"
       396 |         assert (
       397 |             field_info is None
       398 |         ), f"Cannot specify FastAPI annotation for type {type_annotation!r}"
       399 |     elif field_info is None and depends is None:
       400 |         default_value = value if value is not inspect.Signature.empty else Required
       401 |         if is_path_param:
       402 |             # We might check here that `default_value is Required`, but the fact is that the same
       403 |             # parameter might sometimes be a path parameter and sometimes not. See
       404 |             # `tests/test_infer_param_optionality.py` for an example.
       405 |             field_info = params.Path(annotation=type_annotation)
       406 |         elif is_uploadfile_or_nonable_uploadfile_annotation(
       407 |             type_annotation
       408 |         ) or is_uploadfile_sequence_annotation(type_annotation):
       409 |             field_info = params.File(annotation=type_annotation, default=default_value)
       410 |         elif not field_annotation_is_scalar(annotation=type_annotation):
       411 |             field_info = params.Body(annotation=type_annotation, default=default_value)
       412 |         else:
       413 |             field_info = params.Query(annotation=type_annotation, default=default_value)
       414 | 
       415 |     field = None
       416 |     if field_info is not None:
       417 |         if is_path_param:
       418 |             assert isinstance(field_info, params.Path), (
       419 |                 f"Cannot use `{field_info.__class__.__name__}` for path param"
       420 |                 f" {param_name!r}"
       421 |             )
       422 |         elif (
       423 |             isinstance(field_info, params.Param)
       424 |             and getattr(field_info, "in_", None) is None
       425 |         ):
       426 |             field_info.in_ = params.ParamTypes.query
       427 |         use_annotation = get_annotation_from_field_info(
       428 |             type_annotation,
       429 |             field_info,
       430 |             param_name,
       431 |         )
       432 |         if not field_info.alias and getattr(field_info, "convert_underscores", None):
       433 |             alias = param_name.replace("_", "-")
       434 |         else:
       435 |             alias = field_info.alias or param_name
       436 |         field_info.alias = alias
       437 |         field = create_response_field(
       438 |             name=param_name,
       439 |             type_=use_annotation,
       440 |             default=field_info.default,
       441 |             alias=alias,
       442 |             required=field_info.default in (Required, Undefined),
       443 |             field_info=field_info,
       444 |         )
       445 | 
       446 |     return type_annotation, depends, field
       447 | 
    Symbol: fastapi.dependencies.utils.is_body_param (84 tokens)
    Lines: 449-466
    Code:
       449 | def is_body_param(*, param_field: ModelField, is_path_param: bool) -> bool:
       450 |     if is_path_param:
       451 |         assert is_scalar_field(
       452 |             field=param_field
       453 |         ), "Path params must be of one of the supported types"
       454 |         return False
       455 |     elif is_scalar_field(field=param_field):
       456 |         return False
       457 |     elif isinstance(
       458 |         param_field.field_info, (params.Query, params.Header)
       459 |     ) and is_scalar_sequence_field(param_field):
       460 |         return False
       461 |     else:
       462 |         assert isinstance(
       463 |             param_field.field_info, params.Body
       464 |         ), f"Param: {param_field.name} can only be a request body, using Body()"
       465 |         return True
       466 | 
    Symbol: fastapi.dependencies.utils.add_param_to_fields (76 tokens)
    Lines: 468-481
    Code:
       468 | def add_param_to_fields(*, field: ModelField, dependant: Dependant) -> None:
       469 |     field_info = cast(params.Param, field.field_info)
       470 |     if field_info.in_ == params.ParamTypes.path:
       471 |         dependant.path_params.append(field)
       472 |     elif field_info.in_ == params.ParamTypes.query:
       473 |         dependant.query_params.append(field)
       474 |     elif field_info.in_ == params.ParamTypes.header:
       475 |         dependant.header_params.append(field)
       476 |     else:
       477 |         assert (
       478 |             field_info.in_ == params.ParamTypes.cookie
       479 |         ), f"non-body parameters must be in path, query, header or cookie: {field.name}"
       480 |         dependant.cookie_params.append(field)
       481 | 
    Symbol: fastapi.dependencies.utils.is_coroutine_callable (41 tokens)
    Lines: 483-490
    Code:
       483 | def is_coroutine_callable(call: Callable[..., Any]) -> bool:
       484 |     if inspect.isroutine(call):
       485 |         return inspect.iscoroutinefunction(call)
       486 |     if inspect.isclass(call):
       487 |         return False
       488 |     dunder_call = getattr(call, "__call__", None)  # noqa: B004
       489 |     return inspect.iscoroutinefunction(dunder_call)
       490 | 
    Symbol: fastapi.dependencies.utils.is_async_gen_callable (34 tokens)
    Lines: 492-497
    Code:
       492 | def is_async_gen_callable(call: Callable[..., Any]) -> bool:
       493 |     if inspect.isasyncgenfunction(call):
       494 |         return True
       495 |     dunder_call = getattr(call, "__call__", None)  # noqa: B004
       496 |     return inspect.isasyncgenfunction(dunder_call)
       497 | 
    Symbol: fastapi.dependencies.utils.is_gen_callable (34 tokens)
    Lines: 499-504
    Code:
       499 | def is_gen_callable(call: Callable[..., Any]) -> bool:
       500 |     if inspect.isgeneratorfunction(call):
       501 |         return True
       502 |     dunder_call = getattr(call, "__call__", None)  # noqa: B004
       503 |     return inspect.isgeneratorfunction(dunder_call)
       504 | 
    Symbol: fastapi.dependencies.utils.solve_generator (51 tokens)
    Lines: 506-514
    Code:
       506 | async def solve_generator(
       507 |     *, call: Callable[..., Any], stack: AsyncExitStack, sub_values: Dict[str, Any]
       508 | ) -> Any:
       509 |     if is_gen_callable(call):
       510 |         cm = contextmanager_in_threadpool(contextmanager(call)(**sub_values))
       511 |     elif is_async_gen_callable(call):
       512 |         cm = asynccontextmanager(call)(**sub_values)
       513 |     return await stack.enter_async_context(cm)
       514 | 
    Symbol: fastapi.dependencies.utils.request_params_to_args (153 tokens)
    Lines: 644-677
    Code:
       644 | def request_params_to_args(
       645 |     required_params: Sequence[ModelField],
       646 |     received_params: Union[Mapping[str, Any], QueryParams, Headers],
       647 | ) -> Tuple[Dict[str, Any], List[Any]]:
       648 |     values = {}
       649 |     errors = []
       650 |     for field in required_params:
       651 |         if is_scalar_sequence_field(field) and isinstance(
       652 |             received_params, (QueryParams, Headers)
       653 |         ):
       654 |             value = received_params.getlist(field.alias) or field.default
       655 |         else:
       656 |             value = received_params.get(field.alias)
       657 |         field_info = field.field_info
       658 |         assert isinstance(
       659 |             field_info, params.Param
       660 |         ), "Params must be subclasses of Param"
       661 |         loc = (field_info.in_.value, field.alias)
       662 |         if value is None:
       663 |             if field.required:
       664 |                 errors.append(get_missing_field_error(loc=loc))
       665 |             else:
       666 |                 values[field.name] = deepcopy(field.default)
       667 |             continue
       668 |         v_, errors_ = field.validate(value, values, loc=loc)
       669 |         if isinstance(errors_, ErrorWrapper):
       670 |             errors.append(errors_)
       671 |         elif isinstance(errors_, list):
       672 |             new_errors = _regenerate_error_with_loc(errors=errors_, loc_prefix=())
       673 |             errors.extend(new_errors)
       674 |         else:
       675 |             values[field.name] = v_
       676 |     return values, errors
       677 | 
    Symbol: fastapi.dependencies.utils.request_body_to_args (333 tokens)
    Lines: 679-759
    Code:
       679 | async def request_body_to_args(
       680 |     required_params: List[ModelField],
       681 |     received_body: Optional[Union[Dict[str, Any], FormData]],
       682 | ) -> Tuple[Dict[str, Any], List[Dict[str, Any]]]:
       683 |     values = {}
       684 |     errors: List[Dict[str, Any]] = []
       685 |     if required_params:
       686 |         field = required_params[0]
       687 |         field_info = field.field_info
       688 |         embed = getattr(field_info, "embed", None)
       689 |         field_alias_omitted = len(required_params) == 1 and not embed
       690 |         if field_alias_omitted:
       691 |             received_body = {field.alias: received_body}
       692 | 
       693 |         for field in required_params:
       694 |             loc: Tuple[str, ...]
       695 |             if field_alias_omitted:
       696 |                 loc = ("body",)
       697 |             else:
       698 |                 loc = ("body", field.alias)
       699 | 
       700 |             value: Optional[Any] = None
       701 |             if received_body is not None:
       702 |                 if (is_sequence_field(field)) and isinstance(received_body, FormData):
       703 |                     value = received_body.getlist(field.alias)
       704 |                 else:
       705 |                     try:
       706 |                         value = received_body.get(field.alias)
       707 |                     except AttributeError:
       708 |                         errors.append(get_missing_field_error(loc))
       709 |                         continue
       710 |             if (
       711 |                 value is None
       712 |                 or (isinstance(field_info, params.Form) and value == "")
       713 |                 or (
       714 |                     isinstance(field_info, params.Form)
       715 |                     and is_sequence_field(field)
       716 |                     and len(value) == 0
       717 |                 )
       718 |             ):
       719 |                 if field.required:
       720 |                     errors.append(get_missing_field_error(loc))
       721 |                 else:
       722 |                     values[field.name] = deepcopy(field.default)
       723 |                 continue
       724 |             if (
       725 |                 isinstance(field_info, params.File)
       726 |                 and is_bytes_field(field)
       727 |                 and isinstance(value, UploadFile)
       728 |             ):
       729 |                 value = await value.read()
       730 |             elif (
       731 |                 is_bytes_sequence_field(field)
       732 |                 and isinstance(field_info, params.File)
       733 |                 and value_is_sequence(value)
       734 |             ):
       735 |                 # For types
       736 |                 assert isinstance(value, sequence_types)  # type: ignore[arg-type]
       737 |                 results: List[Union[bytes, str]] = []
       738 | 
       739 |                 async def process_fn(
       740 |                     fn: Callable[[], Coroutine[Any, Any, Any]]
       741 |                 ) -> None:
       742 |                     result = await fn()
       743 |                     results.append(result)  # noqa: B023
       744 | 
       745 |                 async with anyio.create_task_group() as tg:
       746 |                     for sub_value in value:
       747 |                         tg.start_soon(process_fn, sub_value.read)
       748 |                 value = serialize_sequence_value(field=field, value=results)
       749 | 
       750 |             v_, errors_ = field.validate(value, values, loc=loc)
       751 | 
       752 |             if isinstance(errors_, list):
       753 |                 errors.extend(errors_)
       754 |             elif errors_:
       755 |                 errors.append(errors_)
       756 |             else:
       757 |                 values[field.name] = v_
       758 |     return values, errors
       759 | 

  ðŸ“„ File: fastapi/encoders.py
    Symbol: fastapi.encoders.ENCODERS_BY_TYPE (84 tokens)
    Lines: 58-86
    Code:
        58 | ENCODERS_BY_TYPE: Dict[Type[Any], Callable[[Any], Any]] = {
        59 |     bytes: lambda o: o.decode(),
        60 |     Color: str,
        61 |     datetime.date: isoformat,
        62 |     datetime.datetime: isoformat,
        63 |     datetime.time: isoformat,
        64 |     datetime.timedelta: lambda td: td.total_seconds(),
        65 |     Decimal: decimal_encoder,
        66 |     Enum: lambda o: o.value,
        67 |     frozenset: list,
        68 |     deque: list,
        69 |     GeneratorType: list,
        70 |     IPv4Address: str,
        71 |     IPv4Interface: str,
        72 |     IPv4Network: str,
        73 |     IPv6Address: str,
        74 |     IPv6Interface: str,
        75 |     IPv6Network: str,
        76 |     NameEmail: str,
        77 |     Path: str,
        78 |     Pattern: lambda o: o.pattern,
        79 |     SecretBytes: str,
        80 |     SecretStr: str,
        81 |     set: list,
        82 |     UUID: str,
        83 |     Url: str,
        84 |     AnyUrl: str,
        85 | }
        86 | 
    Symbol: fastapi.encoders.generate_encoders_by_class_tuples (64 tokens)
    Lines: 88-97
    Code:
        88 | def generate_encoders_by_class_tuples(
        89 |     type_encoder_map: Dict[Any, Callable[[Any], Any]]
        90 | ) -> Dict[Callable[[Any], Any], Tuple[Any, ...]]:
        91 |     encoders_by_class_tuples: Dict[Callable[[Any], Any], Tuple[Any, ...]] = defaultdict(
        92 |         tuple
        93 |     )
        94 |     for type_, encoder in type_encoder_map.items():
        95 |         encoders_by_class_tuples[encoder] += (type_,)
        96 |     return encoders_by_class_tuples
        97 | 
    Symbol: fastapi.encoders.encoders_by_class_tuples (8 tokens)
    Lines: 99-100
    Code:
        99 | encoders_by_class_tuples = generate_encoders_by_class_tuples(ENCODERS_BY_TYPE)
       100 | 

  ðŸ“„ File: fastapi/exceptions.py
    Symbol: fastapi.exceptions.HTTPException.__init__ (62 tokens)
    Lines: 37-66
    Code:
        37 |     def __init__(
        38 |         self,
        39 |         status_code: Annotated[
        40 |             int,
        41 |             Doc(
        42 |                 """
        43 |                 HTTP status code to send to the client.
        44 |                 """
        45 |             ),
        46 |         ],
        47 |         detail: Annotated[
        48 |             Any,
        49 |             Doc(
        50 |                 """
        51 |                 Any data to be sent to the client in the `detail` key of the JSON
        52 |                 response.
        53 |                 """
        54 |             ),
        55 |         ] = None,
        56 |         headers: Annotated[
        57 |             Optional[Dict[str, str]],
        58 |             Doc(
        59 |                 """
        60 |                 Any headers to send to the client in the response.
        61 |                 """
        62 |             ),
        63 |         ] = None,
        64 |     ) -> None:
        65 |         super().__init__(status_code=status_code, detail=detail, headers=headers)
        66 | 
    Symbol: fastapi.exceptions.RequestErrorModel (13 tokens)
    Lines: 139-140
    Code:
       139 | RequestErrorModel: Type[BaseModel] = create_model("Request")
       140 | WebSocketErrorModel: Type[BaseModel] = create_model("WebSocket")
    Symbol: fastapi.exceptions.WebSocketErrorModel (7 tokens)
    Lines: 140-141
    Code:
       140 | WebSocketErrorModel: Type[BaseModel] = create_model("WebSocket")
       141 | 

  ðŸ“„ File: fastapi/openapi/docs.py
    Symbol: fastapi.openapi.docs.swagger_ui_default_parameters (56 tokens)
    Lines: 8-24
    Code:
         8 | swagger_ui_default_parameters: Annotated[
         9 |     Dict[str, Any],
        10 |     Doc(
        11 |         """
        12 |         Default configurations for Swagger UI.
        13 | 
        14 |         You can use it as a template to add any other configurations needed.
        15 |         """
        16 |     ),
        17 | ] = {
        18 |     "dom_id": "#swagger-ui",
        19 |     "layout": "BaseLayout",
        20 |     "deepLinking": True,
        21 |     "showExtensions": True,
        22 |     "showCommonExtensions": True,
        23 | }
        24 | 

  ðŸ“„ File: fastapi/openapi/models.py
    Symbol: fastapi.openapi.models.Contact.name (10 tokens)
    Lines: 59-60
    Code:
        59 |     name: Optional[str] = None
        60 |     url: Optional[AnyUrl] = None
    Symbol: fastapi.openapi.models.Contact.url (9 tokens)
    Lines: 60-61
    Code:
        60 |     url: Optional[AnyUrl] = None
        61 |     email: Optional[EmailStr] = None
    Symbol: fastapi.openapi.models.Contact.email (5 tokens)
    Lines: 61-62
    Code:
        61 |     email: Optional[EmailStr] = None
        62 | 
    Symbol: fastapi.openapi.models.Contact.Config.extra (4 tokens)
    Lines: 69-70
    Code:
        69 |             extra = "allow"
        70 | 
    Symbol: fastapi.openapi.models.License.name (3 tokens)
    Lines: 73-74
    Code:
        73 |     name: str
        74 |     identifier: Optional[str] = None
    Symbol: fastapi.openapi.models.License.identifier (10 tokens)
    Lines: 74-75
    Code:
        74 |     identifier: Optional[str] = None
        75 |     url: Optional[AnyUrl] = None
    Symbol: fastapi.openapi.models.License.url (5 tokens)
    Lines: 75-76
    Code:
        75 |     url: Optional[AnyUrl] = None
        76 | 
    Symbol: fastapi.openapi.models.License.Config.extra (4 tokens)
    Lines: 83-84
    Code:
        83 |             extra = "allow"
        84 | 
    Symbol: fastapi.openapi.models.Info.title (4 tokens)
    Lines: 87-88
    Code:
        87 |     title: str
        88 |     summary: Optional[str] = None
    Symbol: fastapi.openapi.models.Info.summary (9 tokens)
    Lines: 88-89
    Code:
        88 |     summary: Optional[str] = None
        89 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.Info.description (10 tokens)
    Lines: 89-90
    Code:
        89 |     description: Optional[str] = None
        90 |     termsOfService: Optional[str] = None
    Symbol: fastapi.openapi.models.Info.termsOfService (10 tokens)
    Lines: 90-91
    Code:
        90 |     termsOfService: Optional[str] = None
        91 |     contact: Optional[Contact] = None
    Symbol: fastapi.openapi.models.Info.contact (10 tokens)
    Lines: 91-92
    Code:
        91 |     contact: Optional[Contact] = None
        92 |     license: Optional[License] = None
    Symbol: fastapi.openapi.models.Info.license (7 tokens)
    Lines: 92-93
    Code:
        92 |     license: Optional[License] = None
        93 |     version: str
    Symbol: fastapi.openapi.models.Info.version (2 tokens)
    Lines: 93-94
    Code:
        93 |     version: str
        94 | 
    Symbol: fastapi.openapi.models.Info.Config.extra (4 tokens)
    Lines: 101-102
    Code:
       101 |             extra = "allow"
       102 | 
    Symbol: fastapi.openapi.models.ServerVariable.enum (12 tokens)
    Lines: 105-106
    Code:
       105 |     enum: Annotated[Optional[List[str]], Field(min_length=1)] = None
       106 |     default: str
    Symbol: fastapi.openapi.models.ServerVariable.default (3 tokens)
    Lines: 106-107
    Code:
       106 |     default: str
       107 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.ServerVariable.description (5 tokens)
    Lines: 107-108
    Code:
       107 |     description: Optional[str] = None
       108 | 
    Symbol: fastapi.openapi.models.ServerVariable.Config.extra (4 tokens)
    Lines: 115-116
    Code:
       115 |             extra = "allow"
       116 | 
    Symbol: fastapi.openapi.models.Server.url (6 tokens)
    Lines: 119-120
    Code:
       119 |     url: Union[AnyUrl, str]
       120 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.Server.description (9 tokens)
    Lines: 120-121
    Code:
       120 |     description: Optional[str] = None
       121 |     variables: Optional[Dict[str, ServerVariable]] = None
    Symbol: fastapi.openapi.models.Server.variables (7 tokens)
    Lines: 121-122
    Code:
       121 |     variables: Optional[Dict[str, ServerVariable]] = None
       122 | 
    Symbol: fastapi.openapi.models.Server.Config.extra (4 tokens)
    Lines: 129-130
    Code:
       129 |             extra = "allow"
       130 | 
    Symbol: fastapi.openapi.models.Reference.ref (7 tokens)
    Lines: 133-134
    Code:
       133 |     ref: str = Field(alias="$ref")
       134 | 
    Symbol: fastapi.openapi.models.Discriminator.propertyName (4 tokens)
    Lines: 137-138
    Code:
       137 |     propertyName: str
       138 |     mapping: Optional[Dict[str, str]] = None
    Symbol: fastapi.openapi.models.Discriminator.mapping (7 tokens)
    Lines: 138-139
    Code:
       138 |     mapping: Optional[Dict[str, str]] = None
       139 | 
    Symbol: fastapi.openapi.models.XML.name (9 tokens)
    Lines: 142-143
    Code:
       142 |     name: Optional[str] = None
       143 |     namespace: Optional[str] = None
    Symbol: fastapi.openapi.models.XML.namespace (10 tokens)
    Lines: 143-144
    Code:
       143 |     namespace: Optional[str] = None
       144 |     prefix: Optional[str] = None
    Symbol: fastapi.openapi.models.XML.prefix (9 tokens)
    Lines: 144-145
    Code:
       144 |     prefix: Optional[str] = None
       145 |     attribute: Optional[bool] = None
    Symbol: fastapi.openapi.models.XML.attribute (10 tokens)
    Lines: 145-146
    Code:
       145 |     attribute: Optional[bool] = None
       146 |     wrapped: Optional[bool] = None
    Symbol: fastapi.openapi.models.XML.wrapped (5 tokens)
    Lines: 146-147
    Code:
       146 |     wrapped: Optional[bool] = None
       147 | 
    Symbol: fastapi.openapi.models.XML.Config.extra (4 tokens)
    Lines: 154-155
    Code:
       154 |             extra = "allow"
       155 | 
    Symbol: fastapi.openapi.models.ExternalDocumentation.description (7 tokens)
    Lines: 158-159
    Code:
       158 |     description: Optional[str] = None
       159 |     url: AnyUrl
    Symbol: fastapi.openapi.models.ExternalDocumentation.url (2 tokens)
    Lines: 159-160
    Code:
       159 |     url: AnyUrl
       160 | 
    Symbol: fastapi.openapi.models.ExternalDocumentation.Config.extra (4 tokens)
    Lines: 167-168
    Code:
       167 |             extra = "allow"
       168 | 
    Symbol: fastapi.openapi.models.Schema.schema_ (18 tokens)
    Lines: 173-174
    Code:
       173 |     schema_: Optional[str] = Field(default=None, alias="$schema")
       174 |     vocabulary: Optional[str] = Field(default=None, alias="$vocabulary")
    Symbol: fastapi.openapi.models.Schema.vocabulary (18 tokens)
    Lines: 174-175
    Code:
       174 |     vocabulary: Optional[str] = Field(default=None, alias="$vocabulary")
       175 |     id: Optional[str] = Field(default=None, alias="$id")
    Symbol: fastapi.openapi.models.Schema.id (17 tokens)
    Lines: 175-176
    Code:
       175 |     id: Optional[str] = Field(default=None, alias="$id")
       176 |     anchor: Optional[str] = Field(default=None, alias="$anchor")
    Symbol: fastapi.openapi.models.Schema.anchor (17 tokens)
    Lines: 176-177
    Code:
       176 |     anchor: Optional[str] = Field(default=None, alias="$anchor")
       177 |     dynamicAnchor: Optional[str] = Field(default=None, alias="$dynamicAnchor")
    Symbol: fastapi.openapi.models.Schema.dynamicAnchor (18 tokens)
    Lines: 177-178
    Code:
       177 |     dynamicAnchor: Optional[str] = Field(default=None, alias="$dynamicAnchor")
       178 |     ref: Optional[str] = Field(default=None, alias="$ref")
    Symbol: fastapi.openapi.models.Schema.ref (16 tokens)
    Lines: 178-179
    Code:
       178 |     ref: Optional[str] = Field(default=None, alias="$ref")
       179 |     dynamicRef: Optional[str] = Field(default=None, alias="$dynamicRef")
    Symbol: fastapi.openapi.models.Schema.dynamicRef (19 tokens)
    Lines: 179-180
    Code:
       179 |     dynamicRef: Optional[str] = Field(default=None, alias="$dynamicRef")
       180 |     defs: Optional[Dict[str, "SchemaOrBool"]] = Field(default=None, alias="$defs")
    Symbol: fastapi.openapi.models.Schema.defs (21 tokens)
    Lines: 180-181
    Code:
       180 |     defs: Optional[Dict[str, "SchemaOrBool"]] = Field(default=None, alias="$defs")
       181 |     comment: Optional[str] = Field(default=None, alias="$comment")
    Symbol: fastapi.openapi.models.Schema.comment (9 tokens)
    Lines: 181-182
    Code:
       181 |     comment: Optional[str] = Field(default=None, alias="$comment")
       182 |     # Ref: JSON Schema 2020-12: https://json-schema.org/draft/2020-12/json-schema-core.html#name-a-vocabulary-for-applying-s
    Symbol: fastapi.openapi.models.Schema.allOf (14 tokens)
    Lines: 184-185
    Code:
       184 |     allOf: Optional[List["SchemaOrBool"]] = None
       185 |     anyOf: Optional[List["SchemaOrBool"]] = None
    Symbol: fastapi.openapi.models.Schema.anyOf (14 tokens)
    Lines: 185-186
    Code:
       185 |     anyOf: Optional[List["SchemaOrBool"]] = None
       186 |     oneOf: Optional[List["SchemaOrBool"]] = None
    Symbol: fastapi.openapi.models.Schema.oneOf (14 tokens)
    Lines: 186-187
    Code:
       186 |     oneOf: Optional[List["SchemaOrBool"]] = None
       187 |     not_: Optional["SchemaOrBool"] = Field(default=None, alias="not")
    Symbol: fastapi.openapi.models.Schema.not_ (22 tokens)
    Lines: 187-188
    Code:
       187 |     not_: Optional["SchemaOrBool"] = Field(default=None, alias="not")
       188 |     if_: Optional["SchemaOrBool"] = Field(default=None, alias="if")
    Symbol: fastapi.openapi.models.Schema.if_ (17 tokens)
    Lines: 188-189
    Code:
       188 |     if_: Optional["SchemaOrBool"] = Field(default=None, alias="if")
       189 |     then: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.then (13 tokens)
    Lines: 189-190
    Code:
       189 |     then: Optional["SchemaOrBool"] = None
       190 |     else_: Optional["SchemaOrBool"] = Field(default=None, alias="else")
    Symbol: fastapi.openapi.models.Schema.else_ (19 tokens)
    Lines: 190-191
    Code:
       190 |     else_: Optional["SchemaOrBool"] = Field(default=None, alias="else")
       191 |     dependentSchemas: Optional[Dict[str, "SchemaOrBool"]] = None
    Symbol: fastapi.openapi.models.Schema.dependentSchemas (15 tokens)
    Lines: 191-192
    Code:
       191 |     dependentSchemas: Optional[Dict[str, "SchemaOrBool"]] = None
       192 |     prefixItems: Optional[List["SchemaOrBool"]] = None
    Symbol: fastapi.openapi.models.Schema.prefixItems (7 tokens)
    Lines: 192-193
    Code:
       192 |     prefixItems: Optional[List["SchemaOrBool"]] = None
       193 |     # TODO: uncomment and remove below when deprecating Pydantic v1
    Symbol: fastapi.openapi.models.Schema.items (16 tokens)
    Lines: 196-197
    Code:
       196 |     items: Optional[Union["SchemaOrBool", List["SchemaOrBool"]]] = None
       197 |     contains: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.contains (10 tokens)
    Lines: 197-198
    Code:
       197 |     contains: Optional["SchemaOrBool"] = None
       198 |     properties: Optional[Dict[str, "SchemaOrBool"]] = None
    Symbol: fastapi.openapi.models.Schema.properties (14 tokens)
    Lines: 198-199
    Code:
       198 |     properties: Optional[Dict[str, "SchemaOrBool"]] = None
       199 |     patternProperties: Optional[Dict[str, "SchemaOrBool"]] = None
    Symbol: fastapi.openapi.models.Schema.patternProperties (14 tokens)
    Lines: 199-200
    Code:
       199 |     patternProperties: Optional[Dict[str, "SchemaOrBool"]] = None
       200 |     additionalProperties: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.additionalProperties (12 tokens)
    Lines: 200-201
    Code:
       200 |     additionalProperties: Optional["SchemaOrBool"] = None
       201 |     propertyNames: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.propertyNames (12 tokens)
    Lines: 201-202
    Code:
       201 |     propertyNames: Optional["SchemaOrBool"] = None
       202 |     unevaluatedItems: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.unevaluatedItems (11 tokens)
    Lines: 202-203
    Code:
       202 |     unevaluatedItems: Optional["SchemaOrBool"] = None
       203 |     unevaluatedProperties: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.unevaluatedProperties (6 tokens)
    Lines: 203-204
    Code:
       203 |     unevaluatedProperties: Optional["SchemaOrBool"] = None
       204 |     # Ref: JSON Schema Validation 2020-12: https://json-schema.org/draft/2020-12/json-schema-validation.html#name-a-vocabulary-for-structural
    Symbol: fastapi.openapi.models.Schema.type (9 tokens)
    Lines: 206-207
    Code:
       206 |     type: Optional[str] = None
       207 |     enum: Optional[List[Any]] = None
    Symbol: fastapi.openapi.models.Schema.enum (11 tokens)
    Lines: 207-208
    Code:
       207 |     enum: Optional[List[Any]] = None
       208 |     const: Optional[Any] = None
    Symbol: fastapi.openapi.models.Schema.const (8 tokens)
    Lines: 208-209
    Code:
       208 |     const: Optional[Any] = None
       209 |     multipleOf: Optional[float] = Field(default=None, gt=0)
    Symbol: fastapi.openapi.models.Schema.multipleOf (13 tokens)
    Lines: 209-210
    Code:
       209 |     multipleOf: Optional[float] = Field(default=None, gt=0)
       210 |     maximum: Optional[float] = None
    Symbol: fastapi.openapi.models.Schema.maximum (7 tokens)
    Lines: 210-211
    Code:
       210 |     maximum: Optional[float] = None
       211 |     exclusiveMaximum: Optional[float] = None
    Symbol: fastapi.openapi.models.Schema.exclusiveMaximum (10 tokens)
    Lines: 211-212
    Code:
       211 |     exclusiveMaximum: Optional[float] = None
       212 |     minimum: Optional[float] = None
    Symbol: fastapi.openapi.models.Schema.minimum (7 tokens)
    Lines: 212-213
    Code:
       212 |     minimum: Optional[float] = None
       213 |     exclusiveMinimum: Optional[float] = None
    Symbol: fastapi.openapi.models.Schema.exclusiveMinimum (10 tokens)
    Lines: 213-214
    Code:
       213 |     exclusiveMinimum: Optional[float] = None
       214 |     maxLength: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.maxLength (16 tokens)
    Lines: 214-215
    Code:
       214 |     maxLength: Optional[int] = Field(default=None, ge=0)
       215 |     minLength: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.minLength (13 tokens)
    Lines: 215-216
    Code:
       215 |     minLength: Optional[int] = Field(default=None, ge=0)
       216 |     pattern: Optional[str] = None
    Symbol: fastapi.openapi.models.Schema.pattern (10 tokens)
    Lines: 216-217
    Code:
       216 |     pattern: Optional[str] = None
       217 |     maxItems: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.maxItems (16 tokens)
    Lines: 217-218
    Code:
       217 |     maxItems: Optional[int] = Field(default=None, ge=0)
       218 |     minItems: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.minItems (13 tokens)
    Lines: 218-219
    Code:
       218 |     minItems: Optional[int] = Field(default=None, ge=0)
       219 |     uniqueItems: Optional[bool] = None
    Symbol: fastapi.openapi.models.Schema.uniqueItems (10 tokens)
    Lines: 219-220
    Code:
       219 |     uniqueItems: Optional[bool] = None
       220 |     maxContains: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.maxContains (16 tokens)
    Lines: 220-221
    Code:
       220 |     maxContains: Optional[int] = Field(default=None, ge=0)
       221 |     minContains: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.minContains (15 tokens)
    Lines: 221-222
    Code:
       221 |     minContains: Optional[int] = Field(default=None, ge=0)
       222 |     maxProperties: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.maxProperties (16 tokens)
    Lines: 222-223
    Code:
       222 |     maxProperties: Optional[int] = Field(default=None, ge=0)
       223 |     minProperties: Optional[int] = Field(default=None, ge=0)
    Symbol: fastapi.openapi.models.Schema.minProperties (14 tokens)
    Lines: 223-224
    Code:
       223 |     minProperties: Optional[int] = Field(default=None, ge=0)
       224 |     required: Optional[List[str]] = None
    Symbol: fastapi.openapi.models.Schema.required (9 tokens)
    Lines: 224-225
    Code:
       224 |     required: Optional[List[str]] = None
       225 |     dependentRequired: Optional[Dict[str, Set[str]]] = None
    Symbol: fastapi.openapi.models.Schema.dependentRequired (8 tokens)
    Lines: 225-226
    Code:
       225 |     dependentRequired: Optional[Dict[str, Set[str]]] = None
       226 |     # Ref: JSON Schema Validation 2020-12: https://json-schema.org/draft/2020-12/json-schema-validation.html#name-vocabularies-for-semantic-c
    Symbol: fastapi.openapi.models.Schema.format (5 tokens)
    Lines: 228-229
    Code:
       228 |     format: Optional[str] = None
       229 |     # Ref: JSON Schema Validation 2020-12: https://json-schema.org/draft/2020-12/json-schema-validation.html#name-a-vocabulary-for-the-conten
    Symbol: fastapi.openapi.models.Schema.contentEncoding (10 tokens)
    Lines: 231-232
    Code:
       231 |     contentEncoding: Optional[str] = None
       232 |     contentMediaType: Optional[str] = None
    Symbol: fastapi.openapi.models.Schema.contentMediaType (8 tokens)
    Lines: 232-233
    Code:
       232 |     contentMediaType: Optional[str] = None
       233 |     contentSchema: Optional["SchemaOrBool"] = None
    Symbol: fastapi.openapi.models.Schema.contentSchema (6 tokens)
    Lines: 233-234
    Code:
       233 |     contentSchema: Optional["SchemaOrBool"] = None
       234 |     # Ref: JSON Schema Validation 2020-12: https://json-schema.org/draft/2020-12/json-schema-validation.html#name-a-vocabulary-for-basic-meta
    Symbol: fastapi.openapi.models.Schema.title (8 tokens)
    Lines: 236-237
    Code:
       236 |     title: Optional[str] = None
       237 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.Schema.description (10 tokens)
    Lines: 237-238
    Code:
       237 |     description: Optional[str] = None
       238 |     default: Optional[Any] = None
    Symbol: fastapi.openapi.models.Schema.default (9 tokens)
    Lines: 238-239
    Code:
       238 |     default: Optional[Any] = None
       239 |     deprecated: Optional[bool] = None
    Symbol: fastapi.openapi.models.Schema.deprecated (10 tokens)
    Lines: 239-240
    Code:
       239 |     deprecated: Optional[bool] = None
       240 |     readOnly: Optional[bool] = None
    Symbol: fastapi.openapi.models.Schema.readOnly (10 tokens)
    Lines: 240-241
    Code:
       240 |     readOnly: Optional[bool] = None
       241 |     writeOnly: Optional[bool] = None
    Symbol: fastapi.openapi.models.Schema.writeOnly (10 tokens)
    Lines: 241-242
    Code:
       241 |     writeOnly: Optional[bool] = None
       242 |     examples: Optional[List[Any]] = None
    Symbol: fastapi.openapi.models.Schema.examples (6 tokens)
    Lines: 242-243
    Code:
       242 |     examples: Optional[List[Any]] = None
       243 |     # Ref: OpenAPI 3.1.0: https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#schema-object
    Symbol: fastapi.openapi.models.Schema.discriminator (10 tokens)
    Lines: 245-246
    Code:
       245 |     discriminator: Optional[Discriminator] = None
       246 |     xml: Optional[XML] = None
    Symbol: fastapi.openapi.models.Schema.xml (7 tokens)
    Lines: 246-247
    Code:
       246 |     xml: Optional[XML] = None
       247 |     externalDocs: Optional[ExternalDocumentation] = None
    Symbol: fastapi.openapi.models.Schema.externalDocs (7 tokens)
    Lines: 247-248
    Code:
       247 |     externalDocs: Optional[ExternalDocumentation] = None
       248 |     example: Annotated[
    Symbol: fastapi.openapi.models.Schema.example (31 tokens)
    Lines: 248-255
    Code:
       248 |     example: Annotated[
       249 |         Optional[Any],
       250 |         typing_deprecated(
       251 |             "Deprecated in OpenAPI 3.1.0 that now uses JSON Schema 2020-12, "
       252 |             "although still supported. Use examples instead."
       253 |         ),
       254 |     ] = None
       255 | 
    Symbol: fastapi.openapi.models.Schema.Config.extra (4 tokens)
    Lines: 262-263
    Code:
       262 |             extra = "allow"
       263 | 
    Symbol: fastapi.openapi.models.SchemaOrBool (5 tokens)
    Lines: 267-268
    Code:
       267 | SchemaOrBool = Union[Schema, bool]
       268 | 
    Symbol: fastapi.openapi.models.Example.summary (5 tokens)
    Lines: 271-272
    Code:
       271 |     summary: Optional[str]
       272 |     description: Optional[str]
    Symbol: fastapi.openapi.models.Example.description (6 tokens)
    Lines: 272-273
    Code:
       272 |     description: Optional[str]
       273 |     value: Optional[Any]
    Symbol: fastapi.openapi.models.Example.value (5 tokens)
    Lines: 273-274
    Code:
       273 |     value: Optional[Any]
       274 |     externalValue: Optional[AnyUrl]
    Symbol: fastapi.openapi.models.Example.externalValue (3 tokens)
    Lines: 274-275
    Code:
       274 |     externalValue: Optional[AnyUrl]
       275 | 
    Symbol: fastapi.openapi.models.Example.__pydantic_config__ (9 tokens)
    Lines: 277-278
    Code:
       277 |         __pydantic_config__ = {"extra": "allow"}
       278 | 
    Symbol: fastapi.openapi.models.Example.Config.extra (4 tokens)
    Lines: 282-283
    Code:
       282 |             extra = "allow"
       283 | 
    Symbol: fastapi.openapi.models.ParameterInType.query (7 tokens)
    Lines: 286-287
    Code:
       286 |     query = "query"
       287 |     header = "header"
    Symbol: fastapi.openapi.models.ParameterInType.header (8 tokens)
    Lines: 287-288
    Code:
       287 |     header = "header"
       288 |     path = "path"
    Symbol: fastapi.openapi.models.ParameterInType.path (7 tokens)
    Lines: 288-289
    Code:
       288 |     path = "path"
       289 |     cookie = "cookie"
    Symbol: fastapi.openapi.models.ParameterInType.cookie (4 tokens)
    Lines: 289-290
    Code:
       289 |     cookie = "cookie"
       290 | 
    Symbol: fastapi.openapi.models.Encoding.contentType (9 tokens)
    Lines: 293-294
    Code:
       293 |     contentType: Optional[str] = None
       294 |     headers: Optional[Dict[str, Union["Header", Reference]]] = None
    Symbol: fastapi.openapi.models.Encoding.headers (15 tokens)
    Lines: 294-295
    Code:
       294 |     headers: Optional[Dict[str, Union["Header", Reference]]] = None
       295 |     style: Optional[str] = None
    Symbol: fastapi.openapi.models.Encoding.style (10 tokens)
    Lines: 295-296
    Code:
       295 |     style: Optional[str] = None
       296 |     explode: Optional[bool] = None
    Symbol: fastapi.openapi.models.Encoding.explode (8 tokens)
    Lines: 296-297
    Code:
       296 |     explode: Optional[bool] = None
       297 |     allowReserved: Optional[bool] = None
    Symbol: fastapi.openapi.models.Encoding.allowReserved (5 tokens)
    Lines: 297-298
    Code:
       297 |     allowReserved: Optional[bool] = None
       298 | 
    Symbol: fastapi.openapi.models.Encoding.Config.extra (4 tokens)
    Lines: 305-306
    Code:
       305 |             extra = "allow"
       306 | 
    Symbol: fastapi.openapi.models.MediaType.schema_ (17 tokens)
    Lines: 309-310
    Code:
       309 |     schema_: Optional[Union[Schema, Reference]] = Field(default=None, alias="schema")
       310 |     example: Optional[Any] = None
    Symbol: fastapi.openapi.models.MediaType.example (8 tokens)
    Lines: 310-311
    Code:
       310 |     example: Optional[Any] = None
       311 |     examples: Optional[Dict[str, Union[Example, Reference]]] = None
    Symbol: fastapi.openapi.models.MediaType.examples (16 tokens)
    Lines: 311-312
    Code:
       311 |     examples: Optional[Dict[str, Union[Example, Reference]]] = None
       312 |     encoding: Optional[Dict[str, Encoding]] = None
    Symbol: fastapi.openapi.models.MediaType.encoding (7 tokens)
    Lines: 312-313
    Code:
       312 |     encoding: Optional[Dict[str, Encoding]] = None
       313 | 
    Symbol: fastapi.openapi.models.MediaType.Config.extra (4 tokens)
    Lines: 320-321
    Code:
       320 |             extra = "allow"
       321 | 
    Symbol: fastapi.openapi.models.ParameterBase.description (10 tokens)
    Lines: 324-325
    Code:
       324 |     description: Optional[str] = None
       325 |     required: Optional[bool] = None
    Symbol: fastapi.openapi.models.ParameterBase.required (10 tokens)
    Lines: 325-326
    Code:
       325 |     required: Optional[bool] = None
       326 |     deprecated: Optional[bool] = None
    Symbol: fastapi.openapi.models.ParameterBase.deprecated (5 tokens)
    Lines: 326-327
    Code:
       326 |     deprecated: Optional[bool] = None
       327 |     # Serialization rules for simple scenarios
    Symbol: fastapi.openapi.models.ParameterBase.style (10 tokens)
    Lines: 328-329
    Code:
       328 |     style: Optional[str] = None
       329 |     explode: Optional[bool] = None
    Symbol: fastapi.openapi.models.ParameterBase.explode (8 tokens)
    Lines: 329-330
    Code:
       329 |     explode: Optional[bool] = None
       330 |     allowReserved: Optional[bool] = None
    Symbol: fastapi.openapi.models.ParameterBase.allowReserved (10 tokens)
    Lines: 330-331
    Code:
       330 |     allowReserved: Optional[bool] = None
       331 |     schema_: Optional[Union[Schema, Reference]] = Field(default=None, alias="schema")
    Symbol: fastapi.openapi.models.ParameterBase.schema_ (17 tokens)
    Lines: 331-332
    Code:
       331 |     schema_: Optional[Union[Schema, Reference]] = Field(default=None, alias="schema")
       332 |     example: Optional[Any] = None
    Symbol: fastapi.openapi.models.ParameterBase.example (8 tokens)
    Lines: 332-333
    Code:
       332 |     example: Optional[Any] = None
       333 |     examples: Optional[Dict[str, Union[Example, Reference]]] = None
    Symbol: fastapi.openapi.models.ParameterBase.examples (9 tokens)
    Lines: 333-334
    Code:
       333 |     examples: Optional[Dict[str, Union[Example, Reference]]] = None
       334 |     # Serialization rules for more complex scenarios
    Symbol: fastapi.openapi.models.ParameterBase.content (7 tokens)
    Lines: 335-336
    Code:
       335 |     content: Optional[Dict[str, MediaType]] = None
       336 | 
    Symbol: fastapi.openapi.models.ParameterBase.Config.extra (4 tokens)
    Lines: 343-344
    Code:
       343 |             extra = "allow"
       344 | 
    Symbol: fastapi.openapi.models.Parameter.name (5 tokens)
    Lines: 347-348
    Code:
       347 |     name: str
       348 |     in_: ParameterInType = Field(alias="in")
    Symbol: fastapi.openapi.models.Parameter.in_ (7 tokens)
    Lines: 348-349
    Code:
       348 |     in_: ParameterInType = Field(alias="in")
       349 | 
    Symbol: fastapi.openapi.models.RequestBody.description (9 tokens)
    Lines: 356-357
    Code:
       356 |     description: Optional[str] = None
       357 |     content: Dict[str, MediaType]
    Symbol: fastapi.openapi.models.RequestBody.content (9 tokens)
    Lines: 357-358
    Code:
       357 |     content: Dict[str, MediaType]
       358 |     required: Optional[bool] = None
    Symbol: fastapi.openapi.models.RequestBody.required (5 tokens)
    Lines: 358-359
    Code:
       358 |     required: Optional[bool] = None
       359 | 
    Symbol: fastapi.openapi.models.RequestBody.Config.extra (4 tokens)
    Lines: 366-367
    Code:
       366 |             extra = "allow"
       367 | 
    Symbol: fastapi.openapi.models.Link.operationRef (10 tokens)
    Lines: 370-371
    Code:
       370 |     operationRef: Optional[str] = None
       371 |     operationId: Optional[str] = None
    Symbol: fastapi.openapi.models.Link.operationId (9 tokens)
    Lines: 371-372
    Code:
       371 |     operationId: Optional[str] = None
       372 |     parameters: Optional[Dict[str, Union[Any, str]]] = None
    Symbol: fastapi.openapi.models.Link.parameters (16 tokens)
    Lines: 372-373
    Code:
       372 |     parameters: Optional[Dict[str, Union[Any, str]]] = None
       373 |     requestBody: Optional[Union[Any, str]] = None
    Symbol: fastapi.openapi.models.Link.requestBody (12 tokens)
    Lines: 373-374
    Code:
       373 |     requestBody: Optional[Union[Any, str]] = None
       374 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.Link.description (10 tokens)
    Lines: 374-375
    Code:
       374 |     description: Optional[str] = None
       375 |     server: Optional[Server] = None
    Symbol: fastapi.openapi.models.Link.server (5 tokens)
    Lines: 375-376
    Code:
       375 |     server: Optional[Server] = None
       376 | 
    Symbol: fastapi.openapi.models.Link.Config.extra (4 tokens)
    Lines: 383-384
    Code:
       383 |             extra = "allow"
       384 | 
    Symbol: fastapi.openapi.models.Response.description (4 tokens)
    Lines: 387-388
    Code:
       387 |     description: str
       388 |     headers: Optional[Dict[str, Union[Header, Reference]]] = None
    Symbol: fastapi.openapi.models.Response.headers (16 tokens)
    Lines: 388-389
    Code:
       388 |     headers: Optional[Dict[str, Union[Header, Reference]]] = None
       389 |     content: Optional[Dict[str, MediaType]] = None
    Symbol: fastapi.openapi.models.Response.content (13 tokens)
    Lines: 389-390
    Code:
       389 |     content: Optional[Dict[str, MediaType]] = None
       390 |     links: Optional[Dict[str, Union[Link, Reference]]] = None
    Symbol: fastapi.openapi.models.Response.links (9 tokens)
    Lines: 390-391
    Code:
       390 |     links: Optional[Dict[str, Union[Link, Reference]]] = None
       391 | 
    Symbol: fastapi.openapi.models.Response.Config.extra (4 tokens)
    Lines: 398-399
    Code:
       398 |             extra = "allow"
       399 | 
    Symbol: fastapi.openapi.models.Operation.tags (11 tokens)
    Lines: 402-403
    Code:
       402 |     tags: Optional[List[str]] = None
       403 |     summary: Optional[str] = None
    Symbol: fastapi.openapi.models.Operation.summary (9 tokens)
    Lines: 403-404
    Code:
       403 |     summary: Optional[str] = None
       404 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.Operation.description (7 tokens)
    Lines: 404-405
    Code:
       404 |     description: Optional[str] = None
       405 |     externalDocs: Optional[ExternalDocumentation] = None
    Symbol: fastapi.openapi.models.Operation.externalDocs (10 tokens)
    Lines: 405-406
    Code:
       405 |     externalDocs: Optional[ExternalDocumentation] = None
       406 |     operationId: Optional[str] = None
    Symbol: fastapi.openapi.models.Operation.operationId (8 tokens)
    Lines: 406-407
    Code:
       406 |     operationId: Optional[str] = None
       407 |     parameters: Optional[List[Union[Parameter, Reference]]] = None
    Symbol: fastapi.openapi.models.Operation.parameters (15 tokens)
    Lines: 407-408
    Code:
       407 |     parameters: Optional[List[Union[Parameter, Reference]]] = None
       408 |     requestBody: Optional[Union[RequestBody, Reference]] = None
    Symbol: fastapi.openapi.models.Operation.requestBody (7 tokens)
    Lines: 408-409
    Code:
       408 |     requestBody: Optional[Union[RequestBody, Reference]] = None
       409 |     # Using Any for Specification Extensions
    Symbol: fastapi.openapi.models.Operation.responses (17 tokens)
    Lines: 410-411
    Code:
       410 |     responses: Optional[Dict[str, Union[Response, Any]]] = None
       411 |     callbacks: Optional[Dict[str, Union[Dict[str, "PathItem"], Reference]]] = None
    Symbol: fastapi.openapi.models.Operation.callbacks (17 tokens)
    Lines: 411-412
    Code:
       411 |     callbacks: Optional[Dict[str, Union[Dict[str, "PathItem"], Reference]]] = None
       412 |     deprecated: Optional[bool] = None
    Symbol: fastapi.openapi.models.Operation.deprecated (9 tokens)
    Lines: 412-413
    Code:
       412 |     deprecated: Optional[bool] = None
       413 |     security: Optional[List[Dict[str, List[str]]]] = None
    Symbol: fastapi.openapi.models.Operation.security (15 tokens)
    Lines: 413-414
    Code:
       413 |     security: Optional[List[Dict[str, List[str]]]] = None
       414 |     servers: Optional[List[Server]] = None
    Symbol: fastapi.openapi.models.Operation.servers (6 tokens)
    Lines: 414-415
    Code:
       414 |     servers: Optional[List[Server]] = None
       415 | 
    Symbol: fastapi.openapi.models.Operation.Config.extra (4 tokens)
    Lines: 422-423
    Code:
       422 |             extra = "allow"
       423 | 
    Symbol: fastapi.openapi.models.PathItem.ref (14 tokens)
    Lines: 426-427
    Code:
       426 |     ref: Optional[str] = Field(default=None, alias="$ref")
       427 |     summary: Optional[str] = None
    Symbol: fastapi.openapi.models.PathItem.summary (9 tokens)
    Lines: 427-428
    Code:
       427 |     summary: Optional[str] = None
       428 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.PathItem.description (10 tokens)
    Lines: 428-429
    Code:
       428 |     description: Optional[str] = None
       429 |     get: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.get (10 tokens)
    Lines: 429-430
    Code:
       429 |     get: Optional[Operation] = None
       430 |     put: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.put (10 tokens)
    Lines: 430-431
    Code:
       430 |     put: Optional[Operation] = None
       431 |     post: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.post (10 tokens)
    Lines: 431-432
    Code:
       431 |     post: Optional[Operation] = None
       432 |     delete: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.delete (10 tokens)
    Lines: 432-433
    Code:
       432 |     delete: Optional[Operation] = None
       433 |     options: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.options (10 tokens)
    Lines: 433-434
    Code:
       433 |     options: Optional[Operation] = None
       434 |     head: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.head (10 tokens)
    Lines: 434-435
    Code:
       434 |     head: Optional[Operation] = None
       435 |     patch: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.patch (10 tokens)
    Lines: 435-436
    Code:
       435 |     patch: Optional[Operation] = None
       436 |     trace: Optional[Operation] = None
    Symbol: fastapi.openapi.models.PathItem.trace (10 tokens)
    Lines: 436-437
    Code:
       436 |     trace: Optional[Operation] = None
       437 |     servers: Optional[List[Server]] = None
    Symbol: fastapi.openapi.models.PathItem.servers (9 tokens)
    Lines: 437-438
    Code:
       437 |     servers: Optional[List[Server]] = None
       438 |     parameters: Optional[List[Union[Parameter, Reference]]] = None
    Symbol: fastapi.openapi.models.PathItem.parameters (8 tokens)
    Lines: 438-439
    Code:
       438 |     parameters: Optional[List[Union[Parameter, Reference]]] = None
       439 | 
    Symbol: fastapi.openapi.models.PathItem.Config.extra (4 tokens)
    Lines: 446-447
    Code:
       446 |             extra = "allow"
       447 | 
    Symbol: fastapi.openapi.models.SecuritySchemeType.apiKey (8 tokens)
    Lines: 450-451
    Code:
       450 |     apiKey = "apiKey"
       451 |     http = "http"
    Symbol: fastapi.openapi.models.SecuritySchemeType.http (7 tokens)
    Lines: 451-452
    Code:
       451 |     http = "http"
       452 |     oauth2 = "oauth2"
    Symbol: fastapi.openapi.models.SecuritySchemeType.oauth2 (7 tokens)
    Lines: 452-453
    Code:
       452 |     oauth2 = "oauth2"
       453 |     openIdConnect = "openIdConnect"
    Symbol: fastapi.openapi.models.SecuritySchemeType.openIdConnect (4 tokens)
    Lines: 453-454
    Code:
       453 |     openIdConnect = "openIdConnect"
       454 | 
    Symbol: fastapi.openapi.models.SecurityBase.type_ (12 tokens)
    Lines: 457-458
    Code:
       457 |     type_: SecuritySchemeType = Field(alias="type")
       458 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.SecurityBase.description (5 tokens)
    Lines: 458-459
    Code:
       458 |     description: Optional[str] = None
       459 | 
    Symbol: fastapi.openapi.models.SecurityBase.Config.extra (4 tokens)
    Lines: 466-467
    Code:
       466 |             extra = "allow"
       467 | 
    Symbol: fastapi.openapi.models.APIKeyIn.query (7 tokens)
    Lines: 470-471
    Code:
       470 |     query = "query"
       471 |     header = "header"
    Symbol: fastapi.openapi.models.APIKeyIn.header (8 tokens)
    Lines: 471-472
    Code:
       471 |     header = "header"
       472 |     cookie = "cookie"
    Symbol: fastapi.openapi.models.APIKeyIn.cookie (4 tokens)
    Lines: 472-473
    Code:
       472 |     cookie = "cookie"
       473 | 
    Symbol: fastapi.openapi.models.APIKey.in_ (9 tokens)
    Lines: 477-478
    Code:
       477 |     in_: APIKeyIn = Field(alias="in")
       478 |     name: str
    Symbol: fastapi.openapi.models.APIKey.name (2 tokens)
    Lines: 478-479
    Code:
       478 |     name: str
       479 | 
    Symbol: fastapi.openapi.models.HTTPBase.scheme (2 tokens)
    Lines: 483-484
    Code:
       483 |     scheme: str
       484 | 
    Symbol: fastapi.openapi.models.HTTPBearer.bearerFormat (5 tokens)
    Lines: 488-489
    Code:
       488 |     bearerFormat: Optional[str] = None
       489 | 
    Symbol: fastapi.openapi.models.OAuthFlow.refreshUrl (12 tokens)
    Lines: 492-493
    Code:
       492 |     refreshUrl: Optional[str] = None
       493 |     scopes: Dict[str, str] = {}
    Symbol: fastapi.openapi.models.OAuthFlow.scopes (7 tokens)
    Lines: 493-494
    Code:
       493 |     scopes: Dict[str, str] = {}
       494 | 
    Symbol: fastapi.openapi.models.OAuthFlow.Config.extra (4 tokens)
    Lines: 501-502
    Code:
       501 |             extra = "allow"
       502 | 
    Symbol: fastapi.openapi.models.OAuthFlowImplicit.authorizationUrl (2 tokens)
    Lines: 505-506
    Code:
       505 |     authorizationUrl: str
       506 | 
    Symbol: fastapi.openapi.models.OAuthFlowPassword.tokenUrl (2 tokens)
    Lines: 509-510
    Code:
       509 |     tokenUrl: str
       510 | 
    Symbol: fastapi.openapi.models.OAuthFlowClientCredentials.tokenUrl (2 tokens)
    Lines: 513-514
    Code:
       513 |     tokenUrl: str
       514 | 
    Symbol: fastapi.openapi.models.OAuthFlowAuthorizationCode.authorizationUrl (4 tokens)
    Lines: 517-518
    Code:
       517 |     authorizationUrl: str
       518 |     tokenUrl: str
    Symbol: fastapi.openapi.models.OAuthFlowAuthorizationCode.tokenUrl (2 tokens)
    Lines: 518-519
    Code:
       518 |     tokenUrl: str
       519 | 
    Symbol: fastapi.openapi.models.OAuthFlows.implicit (10 tokens)
    Lines: 522-523
    Code:
       522 |     implicit: Optional[OAuthFlowImplicit] = None
       523 |     password: Optional[OAuthFlowPassword] = None
    Symbol: fastapi.openapi.models.OAuthFlows.password (7 tokens)
    Lines: 523-524
    Code:
       523 |     password: Optional[OAuthFlowPassword] = None
       524 |     clientCredentials: Optional[OAuthFlowClientCredentials] = None
    Symbol: fastapi.openapi.models.OAuthFlows.clientCredentials (10 tokens)
    Lines: 524-525
    Code:
       524 |     clientCredentials: Optional[OAuthFlowClientCredentials] = None
       525 |     authorizationCode: Optional[OAuthFlowAuthorizationCode] = None
    Symbol: fastapi.openapi.models.OAuthFlows.authorizationCode (5 tokens)
    Lines: 525-526
    Code:
       525 |     authorizationCode: Optional[OAuthFlowAuthorizationCode] = None
       526 | 
    Symbol: fastapi.openapi.models.OAuthFlows.Config.extra (4 tokens)
    Lines: 533-534
    Code:
       533 |             extra = "allow"
       534 | 
    Symbol: fastapi.openapi.models.OAuth2.flows (2 tokens)
    Lines: 538-539
    Code:
       538 |     flows: OAuthFlows
       539 | 
    Symbol: fastapi.openapi.models.OpenIdConnect.openIdConnectUrl (2 tokens)
    Lines: 545-546
    Code:
       545 |     openIdConnectUrl: str
       546 | 
    Symbol: fastapi.openapi.models.SecurityScheme (8 tokens)
    Lines: 548-549
    Code:
       548 | SecurityScheme = Union[APIKey, HTTPBase, OAuth2, OpenIdConnect, HTTPBearer]
       549 | 
    Symbol: fastapi.openapi.models.Components.schemas (17 tokens)
    Lines: 552-553
    Code:
       552 |     schemas: Optional[Dict[str, Union[Schema, Reference]]] = None
       553 |     responses: Optional[Dict[str, Union[Response, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.responses (18 tokens)
    Lines: 553-554
    Code:
       553 |     responses: Optional[Dict[str, Union[Response, Reference]]] = None
       554 |     parameters: Optional[Dict[str, Union[Parameter, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.parameters (18 tokens)
    Lines: 554-555
    Code:
       554 |     parameters: Optional[Dict[str, Union[Parameter, Reference]]] = None
       555 |     examples: Optional[Dict[str, Union[Example, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.examples (15 tokens)
    Lines: 555-556
    Code:
       555 |     examples: Optional[Dict[str, Union[Example, Reference]]] = None
       556 |     requestBodies: Optional[Dict[str, Union[RequestBody, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.requestBodies (18 tokens)
    Lines: 556-557
    Code:
       556 |     requestBodies: Optional[Dict[str, Union[RequestBody, Reference]]] = None
       557 |     headers: Optional[Dict[str, Union[Header, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.headers (15 tokens)
    Lines: 557-558
    Code:
       557 |     headers: Optional[Dict[str, Union[Header, Reference]]] = None
       558 |     securitySchemes: Optional[Dict[str, Union[SecurityScheme, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.securitySchemes (18 tokens)
    Lines: 558-559
    Code:
       558 |     securitySchemes: Optional[Dict[str, Union[SecurityScheme, Reference]]] = None
       559 |     links: Optional[Dict[str, Union[Link, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.links (9 tokens)
    Lines: 559-560
    Code:
       559 |     links: Optional[Dict[str, Union[Link, Reference]]] = None
       560 |     # Using Any for Specification Extensions
    Symbol: fastapi.openapi.models.Components.callbacks (21 tokens)
    Lines: 561-562
    Code:
       561 |     callbacks: Optional[Dict[str, Union[Dict[str, PathItem], Reference, Any]]] = None
       562 |     pathItems: Optional[Dict[str, Union[PathItem, Reference]]] = None
    Symbol: fastapi.openapi.models.Components.pathItems (9 tokens)
    Lines: 562-563
    Code:
       562 |     pathItems: Optional[Dict[str, Union[PathItem, Reference]]] = None
       563 | 
    Symbol: fastapi.openapi.models.Components.Config.extra (4 tokens)
    Lines: 570-571
    Code:
       570 |             extra = "allow"
       571 | 
    Symbol: fastapi.openapi.models.Tag.name (3 tokens)
    Lines: 574-575
    Code:
       574 |     name: str
       575 |     description: Optional[str] = None
    Symbol: fastapi.openapi.models.Tag.description (7 tokens)
    Lines: 575-576
    Code:
       575 |     description: Optional[str] = None
       576 |     externalDocs: Optional[ExternalDocumentation] = None
    Symbol: fastapi.openapi.models.Tag.externalDocs (5 tokens)
    Lines: 576-577
    Code:
       576 |     externalDocs: Optional[ExternalDocumentation] = None
       577 | 
    Symbol: fastapi.openapi.models.Tag.Config.extra (4 tokens)
    Lines: 584-585
    Code:
       584 |             extra = "allow"
       585 | 
    Symbol: fastapi.openapi.models.OpenAPI.openapi (4 tokens)
    Lines: 588-589
    Code:
       588 |     openapi: str
       589 |     info: Info
    Symbol: fastapi.openapi.models.OpenAPI.info (3 tokens)
    Lines: 589-590
    Code:
       589 |     info: Info
       590 |     jsonSchemaDialect: Optional[str] = None
    Symbol: fastapi.openapi.models.OpenAPI.jsonSchemaDialect (11 tokens)
    Lines: 590-591
    Code:
       590 |     jsonSchemaDialect: Optional[str] = None
       591 |     servers: Optional[List[Server]] = None
    Symbol: fastapi.openapi.models.OpenAPI.servers (6 tokens)
    Lines: 591-592
    Code:
       591 |     servers: Optional[List[Server]] = None
       592 |     # Using Any for Specification Extensions
    Symbol: fastapi.openapi.models.OpenAPI.paths (15 tokens)
    Lines: 593-594
    Code:
       593 |     paths: Optional[Dict[str, Union[PathItem, Any]]] = None
       594 |     webhooks: Optional[Dict[str, Union[PathItem, Reference]]] = None
    Symbol: fastapi.openapi.models.OpenAPI.webhooks (14 tokens)
    Lines: 594-595
    Code:
       594 |     webhooks: Optional[Dict[str, Union[PathItem, Reference]]] = None
       595 |     components: Optional[Components] = None
    Symbol: fastapi.openapi.models.OpenAPI.components (10 tokens)
    Lines: 595-596
    Code:
       595 |     components: Optional[Components] = None
       596 |     security: Optional[List[Dict[str, List[str]]]] = None
    Symbol: fastapi.openapi.models.OpenAPI.security (15 tokens)
    Lines: 596-597
    Code:
       596 |     security: Optional[List[Dict[str, List[str]]]] = None
       597 |     tags: Optional[List[Tag]] = None
    Symbol: fastapi.openapi.models.OpenAPI.tags (8 tokens)
    Lines: 597-598
    Code:
       597 |     tags: Optional[List[Tag]] = None
       598 |     externalDocs: Optional[ExternalDocumentation] = None
    Symbol: fastapi.openapi.models.OpenAPI.externalDocs (5 tokens)
    Lines: 598-599
    Code:
       598 |     externalDocs: Optional[ExternalDocumentation] = None
       599 | 
    Symbol: fastapi.openapi.models.OpenAPI.Config.extra (4 tokens)
    Lines: 606-607
    Code:
       606 |             extra = "allow"
       607 | 

  ðŸ“„ File: fastapi/openapi/utils.py
    Symbol: fastapi.openapi.utils.validation_error_definition (84 tokens)
    Lines: 36-50
    Code:
        36 | validation_error_definition = {
        37 |     "title": "ValidationError",
        38 |     "type": "object",
        39 |     "properties": {
        40 |         "loc": {
        41 |             "title": "Location",
        42 |             "type": "array",
        43 |             "items": {"anyOf": [{"type": "string"}, {"type": "integer"}]},
        44 |         },
        45 |         "msg": {"title": "Message", "type": "string"},
        46 |         "type": {"title": "Error Type", "type": "string"},
        47 |     },
        48 |     "required": ["loc", "msg", "type"],
        49 | }
        50 | 
    Symbol: fastapi.openapi.utils.validation_error_response_definition (40 tokens)
    Lines: 51-62
    Code:
        51 | validation_error_response_definition = {
        52 |     "title": "HTTPValidationError",
        53 |     "type": "object",
        54 |     "properties": {
        55 |         "detail": {
        56 |             "title": "Detail",
        57 |             "type": "array",
        58 |             "items": {"$ref": REF_PREFIX + "ValidationError"},
        59 |         }
        60 |     },
        61 | }
        62 | 
    Symbol: fastapi.openapi.utils.status_code_ranges (35 tokens)
    Lines: 63-71
    Code:
        63 | status_code_ranges: Dict[str, str] = {
        64 |     "1XX": "Information",
        65 |     "2XX": "Success",
        66 |     "3XX": "Redirection",
        67 |     "4XX": "Client Error",
        68 |     "5XX": "Server Error",
        69 |     "DEFAULT": "Default Response",
        70 | }
        71 | 
    Symbol: fastapi.openapi.utils.get_openapi_security_definitions (66 tokens)
    Lines: 73-88
    Code:
        73 | def get_openapi_security_definitions(
        74 |     flat_dependant: Dependant,
        75 | ) -> Tuple[Dict[str, Any], List[Dict[str, Any]]]:
        76 |     security_definitions = {}
        77 |     operation_security = []
        78 |     for security_requirement in flat_dependant.security_requirements:
        79 |         security_definition = jsonable_encoder(
        80 |             security_requirement.security_scheme.model,
        81 |             by_alias=True,
        82 |             exclude_none=True,
        83 |         )
        84 |         security_name = security_requirement.security_scheme.scheme_name
        85 |         security_definitions[security_name] = security_definition
        86 |         operation_security.append({security_name: security_requirement.scopes})
        87 |     return security_definitions, operation_security
        88 | 
    Symbol: fastapi.openapi.utils.get_openapi_operation_parameters (159 tokens)
    Lines: 90-129
    Code:
        90 | def get_openapi_operation_parameters(
        91 |     *,
        92 |     all_route_params: Sequence[ModelField],
        93 |     schema_generator: GenerateJsonSchema,
        94 |     model_name_map: ModelNameMap,
        95 |     field_mapping: Dict[
        96 |         Tuple[ModelField, Literal["validation", "serialization"]], JsonSchemaValue
        97 |     ],
        98 |     separate_input_output_schemas: bool = True,
        99 | ) -> List[Dict[str, Any]]:
       100 |     parameters = []
       101 |     for param in all_route_params:
       102 |         field_info = param.field_info
       103 |         field_info = cast(Param, field_info)
       104 |         if not field_info.include_in_schema:
       105 |             continue
       106 |         param_schema = get_schema_from_model_field(
       107 |             field=param,
       108 |             schema_generator=schema_generator,
       109 |             model_name_map=model_name_map,
       110 |             field_mapping=field_mapping,
       111 |             separate_input_output_schemas=separate_input_output_schemas,
       112 |         )
       113 |         parameter = {
       114 |             "name": param.alias,
       115 |             "in": field_info.in_.value,
       116 |             "required": param.required,
       117 |             "schema": param_schema,
       118 |         }
       119 |         if field_info.description:
       120 |             parameter["description"] = field_info.description
       121 |         if field_info.openapi_examples:
       122 |             parameter["examples"] = jsonable_encoder(field_info.openapi_examples)
       123 |         elif field_info.example != Undefined:
       124 |             parameter["example"] = jsonable_encoder(field_info.example)
       125 |         if field_info.deprecated:
       126 |             parameter["deprecated"] = field_info.deprecated
       127 |         parameters.append(parameter)
       128 |     return parameters
       129 | 
    Symbol: fastapi.openapi.utils.get_openapi_operation_request_body (160 tokens)
    Lines: 131-166
    Code:
       131 | def get_openapi_operation_request_body(
       132 |     *,
       133 |     body_field: Optional[ModelField],
       134 |     schema_generator: GenerateJsonSchema,
       135 |     model_name_map: ModelNameMap,
       136 |     field_mapping: Dict[
       137 |         Tuple[ModelField, Literal["validation", "serialization"]], JsonSchemaValue
       138 |     ],
       139 |     separate_input_output_schemas: bool = True,
       140 | ) -> Optional[Dict[str, Any]]:
       141 |     if not body_field:
       142 |         return None
       143 |     assert isinstance(body_field, ModelField)
       144 |     body_schema = get_schema_from_model_field(
       145 |         field=body_field,
       146 |         schema_generator=schema_generator,
       147 |         model_name_map=model_name_map,
       148 |         field_mapping=field_mapping,
       149 |         separate_input_output_schemas=separate_input_output_schemas,
       150 |     )
       151 |     field_info = cast(Body, body_field.field_info)
       152 |     request_media_type = field_info.media_type
       153 |     required = body_field.required
       154 |     request_body_oai: Dict[str, Any] = {}
       155 |     if required:
       156 |         request_body_oai["required"] = required
       157 |     request_media_content: Dict[str, Any] = {"schema": body_schema}
       158 |     if field_info.openapi_examples:
       159 |         request_media_content["examples"] = jsonable_encoder(
       160 |             field_info.openapi_examples
       161 |         )
       162 |     elif field_info.example != Undefined:
       163 |         request_media_content["example"] = jsonable_encoder(field_info.example)
       164 |     request_body_oai["content"] = {request_media_type: request_media_content}
       165 |     return request_body_oai
       166 | 
    Symbol: fastapi.openapi.utils.generate_operation_summary (26 tokens)
    Lines: 183-187
    Code:
       183 | def generate_operation_summary(*, route: routing.APIRoute, method: str) -> str:
       184 |     if route.summary:
       185 |         return route.summary
       186 |     return route.name.replace("_", " ").title()
       187 | 
    Symbol: fastapi.openapi.utils.get_openapi_operation_metadata (133 tokens)
    Lines: 189-213
    Code:
       189 | def get_openapi_operation_metadata(
       190 |     *, route: routing.APIRoute, method: str, operation_ids: Set[str]
       191 | ) -> Dict[str, Any]:
       192 |     operation: Dict[str, Any] = {}
       193 |     if route.tags:
       194 |         operation["tags"] = route.tags
       195 |     operation["summary"] = generate_operation_summary(route=route, method=method)
       196 |     if route.description:
       197 |         operation["description"] = route.description
       198 |     operation_id = route.operation_id or route.unique_id
       199 |     if operation_id in operation_ids:
       200 |         message = (
       201 |             f"Duplicate Operation ID {operation_id} for function "
       202 |             + f"{route.endpoint.__name__}"
       203 |         )
       204 |         file_name = getattr(route.endpoint, "__globals__", {}).get("__file__")
       205 |         if file_name:
       206 |             message += f" at {file_name}"
       207 |         warnings.warn(message, stacklevel=1)
       208 |     operation_ids.add(operation_id)
       209 |     operation["operationId"] = operation_id
       210 |     if route.deprecated:
       211 |         operation["deprecated"] = route.deprecated
       212 |     return operation
       213 | 
    Symbol: fastapi.openapi.utils.get_openapi_path (804 tokens)
    Lines: 215-405
    Code:
       215 | def get_openapi_path(
       216 |     *,
       217 |     route: routing.APIRoute,
       218 |     operation_ids: Set[str],
       219 |     schema_generator: GenerateJsonSchema,
       220 |     model_name_map: ModelNameMap,
       221 |     field_mapping: Dict[
       222 |         Tuple[ModelField, Literal["validation", "serialization"]], JsonSchemaValue
       223 |     ],
       224 |     separate_input_output_schemas: bool = True,
       225 | ) -> Tuple[Dict[str, Any], Dict[str, Any], Dict[str, Any]]:
       226 |     path = {}
       227 |     security_schemes: Dict[str, Any] = {}
       228 |     definitions: Dict[str, Any] = {}
       229 |     assert route.methods is not None, "Methods must be a list"
       230 |     if isinstance(route.response_class, DefaultPlaceholder):
       231 |         current_response_class: Type[Response] = route.response_class.value
       232 |     else:
       233 |         current_response_class = route.response_class
       234 |     assert current_response_class, "A response class is needed to generate OpenAPI"
       235 |     route_response_media_type: Optional[str] = current_response_class.media_type
       236 |     if route.include_in_schema:
       237 |         for method in route.methods:
       238 |             operation = get_openapi_operation_metadata(
       239 |                 route=route, method=method, operation_ids=operation_ids
       240 |             )
       241 |             parameters: List[Dict[str, Any]] = []
       242 |             flat_dependant = get_flat_dependant(route.dependant, skip_repeats=True)
       243 |             security_definitions, operation_security = get_openapi_security_definitions(
       244 |                 flat_dependant=flat_dependant
       245 |             )
       246 |             if operation_security:
       247 |                 operation.setdefault("security", []).extend(operation_security)
       248 |             if security_definitions:
       249 |                 security_schemes.update(security_definitions)
       250 |             all_route_params = get_flat_params(route.dependant)
       251 |             operation_parameters = get_openapi_operation_parameters(
       252 |                 all_route_params=all_route_params,
       253 |                 schema_generator=schema_generator,
       254 |                 model_name_map=model_name_map,
       255 |                 field_mapping=field_mapping,
       256 |                 separate_input_output_schemas=separate_input_output_schemas,
       257 |             )
       258 |             parameters.extend(operation_parameters)
       259 |             if parameters:
       260 |                 all_parameters = {
       261 |                     (param["in"], param["name"]): param for param in parameters
       262 |                 }
       263 |                 required_parameters = {
       264 |                     (param["in"], param["name"]): param
       265 |                     for param in parameters
       266 |                     if param.get("required")
       267 |                 }
       268 |                 # Make sure required definitions of the same parameter take precedence
       269 |                 # over non-required definitions
       270 |                 all_parameters.update(required_parameters)
       271 |                 operation["parameters"] = list(all_parameters.values())
       272 |             if method in METHODS_WITH_BODY:
       273 |                 request_body_oai = get_openapi_operation_request_body(
       274 |                     body_field=route.body_field,
       275 |                     schema_generator=schema_generator,
       276 |                     model_name_map=model_name_map,
       277 |                     field_mapping=field_mapping,
       278 |                     separate_input_output_schemas=separate_input_output_schemas,
       279 |                 )
       280 |                 if request_body_oai:
       281 |                     operation["requestBody"] = request_body_oai
       282 |             if route.callbacks:
       283 |                 callbacks = {}
       284 |                 for callback in route.callbacks:
       285 |                     if isinstance(callback, routing.APIRoute):
       286 |                         (
       287 |                             cb_path,
       288 |                             cb_security_schemes,
       289 |                             cb_definitions,
       290 |                         ) = get_openapi_path(
       291 |                             route=callback,
       292 |                             operation_ids=operation_ids,
       293 |                             schema_generator=schema_generator,
       294 |                             model_name_map=model_name_map,
       295 |                             field_mapping=field_mapping,
       296 |                             separate_input_output_schemas=separate_input_output_schemas,
       297 |                         )
       298 |                         callbacks[callback.name] = {callback.path: cb_path}
       299 |                 operation["callbacks"] = callbacks
       300 |             if route.status_code is not None:
       301 |                 status_code = str(route.status_code)
       302 |             else:
       303 |                 # It would probably make more sense for all response classes to have an
       304 |                 # explicit default status_code, and to extract it from them, instead of
       305 |                 # doing this inspection tricks, that would probably be in the future
       306 |                 # TODO: probably make status_code a default class attribute for all
       307 |                 # responses in Starlette
       308 |                 response_signature = inspect.signature(current_response_class.__init__)
       309 |                 status_code_param = response_signature.parameters.get("status_code")
       310 |                 if status_code_param is not None:
       311 |                     if isinstance(status_code_param.default, int):
       312 |                         status_code = str(status_code_param.default)
       313 |             operation.setdefault("responses", {}).setdefault(status_code, {})[
       314 |                 "description"
       315 |             ] = route.response_description
       316 |             if route_response_media_type and is_body_allowed_for_status_code(
       317 |                 route.status_code
       318 |             ):
       319 |                 response_schema = {"type": "string"}
       320 |                 if lenient_issubclass(current_response_class, JSONResponse):
       321 |                     if route.response_field:
       322 |                         response_schema = get_schema_from_model_field(
       323 |                             field=route.response_field,
       324 |                             schema_generator=schema_generator,
       325 |                             model_name_map=model_name_map,
       326 |                             field_mapping=field_mapping,
       327 |                             separate_input_output_schemas=separate_input_output_schemas,
       328 |                         )
       329 |                     else:
       330 |                         response_schema = {}
       331 |                 operation.setdefault("responses", {}).setdefault(
       332 |                     status_code, {}
       333 |                 ).setdefault("content", {}).setdefault(route_response_media_type, {})[
       334 |                     "schema"
       335 |                 ] = response_schema
       336 |             if route.responses:
       337 |                 operation_responses = operation.setdefault("responses", {})
       338 |                 for (
       339 |                     additional_status_code,
       340 |                     additional_response,
       341 |                 ) in route.responses.items():
       342 |                     process_response = additional_response.copy()
       343 |                     process_response.pop("model", None)
       344 |                     status_code_key = str(additional_status_code).upper()
       345 |                     if status_code_key == "DEFAULT":
       346 |                         status_code_key = "default"
       347 |                     openapi_response = operation_responses.setdefault(
       348 |                         status_code_key, {}
       349 |                     )
       350 |                     assert isinstance(
       351 |                         process_response, dict
       352 |                     ), "An additional response must be a dict"
       353 |                     field = route.response_fields.get(additional_status_code)
       354 |                     additional_field_schema: Optional[Dict[str, Any]] = None
       355 |                     if field:
       356 |                         additional_field_schema = get_schema_from_model_field(
       357 |                             field=field,
       358 |                             schema_generator=schema_generator,
       359 |                             model_name_map=model_name_map,
       360 |                             field_mapping=field_mapping,
       361 |                             separate_input_output_schemas=separate_input_output_schemas,
       362 |                         )
       363 |                         media_type = route_response_media_type or "application/json"
       364 |                         additional_schema = (
       365 |                             process_response.setdefault("content", {})
       366 |                             .setdefault(media_type, {})
       367 |                             .setdefault("schema", {})
       368 |                         )
       369 |                         deep_dict_update(additional_schema, additional_field_schema)
       370 |                     status_text: Optional[str] = status_code_ranges.get(
       371 |                         str(additional_status_code).upper()
       372 |                     ) or http.client.responses.get(int(additional_status_code))
       373 |                     description = (
       374 |                         process_response.get("description")
       375 |                         or openapi_response.get("description")
       376 |                         or status_text
       377 |                         or "Additional Response"
       378 |                     )
       379 |                     deep_dict_update(openapi_response, process_response)
       380 |                     openapi_response["description"] = description
       381 |             http422 = str(HTTP_422_UNPROCESSABLE_ENTITY)
       382 |             if (all_route_params or route.body_field) and not any(
       383 |                 status in operation["responses"]
       384 |                 for status in [http422, "4XX", "default"]
       385 |             ):
       386 |                 operation["responses"][http422] = {
       387 |                     "description": "Validation Error",
       388 |                     "content": {
       389 |                         "application/json": {
       390 |                             "schema": {"$ref": REF_PREFIX + "HTTPValidationError"}
       391 |                         }
       392 |                     },
       393 |                 }
       394 |                 if "ValidationError" not in definitions:
       395 |                     definitions.update(
       396 |                         {
       397 |                             "ValidationError": validation_error_definition,
       398 |                             "HTTPValidationError": validation_error_response_definition,
       399 |                         }
       400 |                     )
       401 |             if route.openapi_extra:
       402 |                 deep_dict_update(operation, route.openapi_extra)
       403 |             path[method.lower()] = operation
       404 |     return path, security_schemes, definitions
       405 | 
    Symbol: fastapi.openapi.utils.get_fields_from_routes (133 tokens)
    Lines: 407-436
    Code:
       407 | def get_fields_from_routes(
       408 |     routes: Sequence[BaseRoute],
       409 | ) -> List[ModelField]:
       410 |     body_fields_from_routes: List[ModelField] = []
       411 |     responses_from_routes: List[ModelField] = []
       412 |     request_fields_from_routes: List[ModelField] = []
       413 |     callback_flat_models: List[ModelField] = []
       414 |     for route in routes:
       415 |         if getattr(route, "include_in_schema", None) and isinstance(
       416 |             route, routing.APIRoute
       417 |         ):
       418 |             if route.body_field:
       419 |                 assert isinstance(
       420 |                     route.body_field, ModelField
       421 |                 ), "A request body must be a Pydantic Field"
       422 |                 body_fields_from_routes.append(route.body_field)
       423 |             if route.response_field:
       424 |                 responses_from_routes.append(route.response_field)
       425 |             if route.response_fields:
       426 |                 responses_from_routes.extend(route.response_fields.values())
       427 |             if route.callbacks:
       428 |                 callback_flat_models.extend(get_fields_from_routes(route.callbacks))
       429 |             params = get_flat_params(route.dependant)
       430 |             request_fields_from_routes.extend(params)
       431 | 
       432 |     flat_models = callback_flat_models + list(
       433 |         body_fields_from_routes + responses_from_routes + request_fields_from_routes
       434 |     )
       435 |     return flat_models
       436 | 

  ðŸ“„ File: fastapi/param_functions.py
    Symbol: fastapi.param_functions._Unset (5 tokens)
    Lines: 8-9
    Code:
         8 | _Unset: Any = Undefined
         9 | 

  ðŸ“„ File: fastapi/params.py
    Symbol: fastapi.params._Unset (5 tokens)
    Lines: 11-12
    Code:
        11 | _Unset: Any = Undefined
        12 | 
    Symbol: fastapi.params.ParamTypes.query (7 tokens)
    Lines: 15-16
    Code:
        15 |     query = "query"
        16 |     header = "header"
    Symbol: fastapi.params.ParamTypes.header (8 tokens)
    Lines: 16-17
    Code:
        16 |     header = "header"
        17 |     path = "path"
    Symbol: fastapi.params.ParamTypes.path (7 tokens)
    Lines: 17-18
    Code:
        17 |     path = "path"
        18 |     cookie = "cookie"
    Symbol: fastapi.params.ParamTypes.cookie (4 tokens)
    Lines: 18-19
    Code:
        18 |     cookie = "cookie"
        19 | 
    Symbol: fastapi.params.Param.in_ (3 tokens)
    Lines: 22-23
    Code:
        22 |     in_: ParamTypes
        23 | 

  ðŸ“„ File: fastapi/responses.py
    Symbol: fastapi.responses.ujson (6 tokens)
    Lines: 14-15
    Code:
        14 |     ujson = None  # type: ignore
        15 | 
    Symbol: fastapi.responses.orjson (6 tokens)
    Lines: 20-21
    Code:
        20 |     orjson = None  # type: ignore
        21 | 

  ðŸ“„ File: fastapi/security/base.py
    Symbol: fastapi.security.base.SecurityBase.model (5 tokens)
    Lines: 5-6
    Code:
         5 |     model: SecurityBaseModel
         6 |     scheme_name: str
    Symbol: fastapi.security.base.SecurityBase.scheme_name (3 tokens)
    Lines: 6-7
    Code:
         6 |     scheme_name: str

  ðŸ“„ File: fastapi/security/http.py
    Symbol: fastapi.security.http.HTTPBasicCredentials.username (20 tokens)
    Lines: 25-26
    Code:
        25 |     username: Annotated[str, Doc("The HTTP Basic username.")]
        26 |     password: Annotated[str, Doc("The HTTP Basic password.")]
    Symbol: fastapi.security.http.HTTPBasicCredentials.password (10 tokens)
    Lines: 26-27
    Code:
        26 |     password: Annotated[str, Doc("The HTTP Basic password.")]
        27 | 
    Symbol: fastapi.security.http.HTTPAuthorizationCredentials.scheme (21 tokens)
    Lines: 51-59
    Code:
        51 |     scheme: Annotated[
        52 |         str,
        53 |         Doc(
        54 |             """
        55 |             The HTTP authorization scheme extracted from the header value.
        56 |             """
        57 |         ),
        58 |     ]
        59 |     credentials: Annotated[
    Symbol: fastapi.security.http.HTTPAuthorizationCredentials.credentials (20 tokens)
    Lines: 59-67
    Code:
        59 |     credentials: Annotated[
        60 |         str,
        61 |         Doc(
        62 |             """
        63 |             The HTTP authorization credentials extracted from the header value.
        64 |             """
        65 |         ),
        66 |     ]
        67 | 

  ðŸ“„ File: fastapi/security/oauth2.py
    Symbol: fastapi.security.oauth2.SecurityScopes.__init__ (87 tokens)
    Lines: 611-639
    Code:
       611 |     def __init__(
       612 |         self,
       613 |         scopes: Annotated[
       614 |             Optional[List[str]],
       615 |             Doc(
       616 |                 """
       617 |                 This will be filled by FastAPI.
       618 |                 """
       619 |             ),
       620 |         ] = None,
       621 |     ):
       622 |         self.scopes: Annotated[
       623 |             List[str],
       624 |             Doc(
       625 |                 """
       626 |                 The list of all the scopes required by dependencies.
       627 |                 """
       628 |             ),
       629 |         ] = scopes or []
       630 |         self.scope_str: Annotated[
       631 |             str,
       632 |             Doc(
       633 |                 """
       634 |                 All the scopes required by all the dependencies in a single string
       635 |                 separated by spaces, as defined in the OAuth2 specification.
       636 |                 """
       637 |             ),
       638 |         ] = " ".join(self.scopes)

  ðŸ“„ File: fastapi/types.py
    Symbol: fastapi.types.DecoratedCallable (18 tokens)
    Lines: 7-8
    Code:
         7 | DecoratedCallable = TypeVar("DecoratedCallable", bound=Callable[..., Any])
         8 | UnionType = getattr(types, "UnionType", Union)
    Symbol: fastapi.types.NoneType (13 tokens)
    Lines: 9-10
    Code:
         9 | NoneType = getattr(types, "UnionType", None)
        10 | ModelNameMap = Dict[Union[Type[BaseModel], Type[Enum]], str]
    Symbol: fastapi.types.ModelNameMap (22 tokens)
    Lines: 10-11
    Code:
        10 | ModelNameMap = Dict[Union[Type[BaseModel], Type[Enum]], str]
        11 | IncEx = Union[Set[int], Set[str], Dict[int, Any], Dict[str, Any]]
    Symbol: fastapi.types.IncEx (15 tokens)
    Lines: 11-12
    Code:
        11 | IncEx = Union[Set[int], Set[str], Dict[int, Any], Dict[str, Any]]

  ðŸ“„ File: fastapi/utils.py
    Symbol: fastapi.utils._CLONED_TYPES_CACHE (12 tokens)
    Lines: 37-40
    Code:
        37 | _CLONED_TYPES_CACHE: MutableMapping[
        38 |     Type[BaseModel], Type[BaseModel]
        39 | ] = WeakKeyDictionary()
        40 | 
